{
  "id": "conv-1770259268622-114462gyq",
  "title": "Troubleshoot exam generation issue",
  "titleGenerationStatus": "success",
  "createdAt": 1770259268622,
  "updatedAt": 1770285630362,
  "lastResponseAt": 1770285630362,
  "sessionId": "0b465947-504a-4c1d-aa55-6d8326894fff",
  "sdkSessionId": "0b465947-504a-4c1d-aa55-6d8326894fff",
  "usage": {
    "model": "opus",
    "inputTokens": 0,
    "cacheCreationInputTokens": 0,
    "cacheReadInputTokens": 0,
    "contextWindow": 200000,
    "contextTokens": 0,
    "percentage": 0
  },
  "subagentData": {
    "call_e8751953682f436e90cb2b95": {
      "id": "call_e8751953682f436e90cb2b95",
      "description": "åˆ é™¤åŸºç¡€ç‰ˆæ–‡ä»¶ä¸­\"ç¬¬å‡ éƒ¨åˆ†\"è¡¨è¿°",
      "status": "completed",
      "toolCalls": [
        {
          "id": "call_17dg5hkm30j",
          "name": "Read",
          "input": {
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "     1â†’<!DOCTYPE html>\n     2â†’<html lang=\"zh-CN\">\n     3â†’<head>\n     4â†’    <meta charset=\"UTF-8\">\n     5â†’    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n     6â†’    <title>å°å­¦æ•°å­¦å¿«é€Ÿå‡ºé¢˜å™¨ - å£ç®—+ç«–å¼</title>\n     7â†’    <style>\n     8â†’        * {\n     9â†’            margin: 0;\n    10â†’            padding: 0;\n    11â†’            box-sizing: border-box;\n    12â†’        }\n    13â†’\n    14â†’        :root {\n    15â†’            --primary-color: #10b981;\n    16â†’            --primary-dark: #059669;\n    17â†’            --secondary-color: #8b5cf6;\n    18â†’            --accent-color: #f59e0b;\n    19â†’            --danger-color: #ef4444;\n    20â†’            --success-color: #10b981;\n    21â†’            --info-color: #3b82f6;\n    22â†’            --bg-color: #f0fdf4;\n    23â†’            --card-bg: #ffffff;\n    24â†’            --text-primary: #1f2937;\n    25â†’            --text-secondary: #6b7280;\n    26â†’            --border-color: #e5e7eb;\n    27â†’            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n    28â†’            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n    29â†’        }\n    30â†’\n    31â†’        body {\n    32â†’            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n    33â†’            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    34â†’            min-height: 100vh;\n    35â†’            padding: 20px;\n    36â†’            color: var(--text-primary);\n    37â†’            margin: 0;\n    38â†’        }\n    39â†’\n    40â†’        @media print {\n    41â†’            body {\n    42â†’                background: white;\n    43â†’                padding: 0;\n    44â†’                margin: 0;\n    45â†’            }\n    46â†’        }\n    47â†’\n    48â†’        .container {\n    49â†’            max-width: 900px;\n    50â†’            margin: 0 auto;\n    51â†’        }\n    52â†’\n    53â†’        header {\n    54â†’            text-align: center;\n    55â†’            margin-bottom: 30px;\n    56â†’            color: white;\n    57â†’        }\n    58â†’\n    59â†’        header h1 {\n    60â†’            font-size: 2.2rem;\n    61â†’            margin-bottom: 10px;\n    62â†’            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n    63â†’        }\n    64â†’\n    65â†’        header p {\n    66â†’            font-size: 1.1rem;\n    67â†’            opacity: 0.95;\n    68â†’        }\n    69â†’\n    70â†’        .card {\n    71â†’            background: var(--card-bg);\n    72â†’            border-radius: 16px;\n    73â†’            box-shadow: var(--shadow-lg);\n    74â†’            padding: 30px;\n    75â†’            margin-bottom: 20px;\n    76â†’        }\n    77â†’\n    78â†’        .section {\n    79â†’            display: none;\n    80â†’        }\n    81â†’\n    82â†’        .section.active {\n    83â†’            display: block;\n    84â†’            animation: fadeIn 0.3s ease-in;\n    85â†’        }\n    86â†’\n    87â†’        @keyframes fadeIn {\n    88â†’            from { opacity: 0; transform: translateY(10px); }\n    89â†’            to { opacity: 1; transform: translateY(0); }\n    90â†’        }\n    91â†’\n    92â†’        .form-group {\n    93â†’            margin-bottom: 20px;\n    94â†’        }\n    95â†’\n    96â†’        label {\n    97â†’            display: block;\n    98â†’            font-weight: 600;\n    99â†’            margin-bottom: 8px;\n   100â†’            color: var(--text-primary);\n   101â†’        }\n   102â†’\n   103â†’        select, input[type=\"number\"], input[type=\"text\"] {\n   104â†’            width: 100%;\n   105â†’            padding: 12px 16px;\n   106â†’            border: 2px solid var(--border-color);\n   107â†’            border-radius: 10px;\n   108â†’            font-size: 1rem;\n   109â†’            transition: all 0.3s ease;\n   110â†’        }\n   111â†’\n   112â†’        select:focus, input:focus {\n   113â†’            outline: none;\n   114â†’            border-color: var(--primary-color);\n   115â†’            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);\n   116â†’        }\n   117â†’\n   118â†’        .btn {\n   119â†’            padding: 12px 24px;\n   120â†’            border-radius: 10px;\n   121â†’            border: none;\n   122â†’            cursor: pointer;\n   123â†’            font-size: 1rem;\n   124â†’            font-weight: 600;\n   125â†’            transition: all 0.3s ease;\n   126â†’            display: inline-flex;\n   127â†’            align-items: center;\n   128â†’            gap: 8px;\n   129â†’            justify-content: center;\n   130â†’        }\n   131â†’\n   132â†’        .btn-primary {\n   133â†’            background: var(--primary-color);\n   134â†’            color: white;\n   135â†’        }\n   136â†’\n   137â†’        .btn-primary:hover {\n   138â†’            background: var(--primary-dark);\n   139â†’            transform: translateY(-2px);\n   140â†’            box-shadow: var(--shadow);\n   141â†’        }\n   142â†’\n   143â†’        .btn-secondary {\n   144â†’            background: var(--secondary-color);\n   145â†’            color: white;\n   146â†’        }\n   147â†’\n   148â†’        .btn-secondary:hover {\n   149â†’            background: #7c3aed;\n   150â†’        }\n   151â†’\n   152â†’        .btn-danger {\n   153â†’            background: var(--danger-color);\n   154â†’            color: white;\n   155â†’        }\n   156â†’\n   157â†’        .btn-info {\n   158â†’            background: var(--info-color);\n   159â†’            color: white;\n   160â†’        }\n   161â†’\n   162â†’        .btn:disabled {\n   163â†’            opacity: 0.6;\n   164â†’            cursor: not-allowed;\n   165â†’            transform: none !important;\n   166â†’        }\n   167â†’\n   168â†’        .btn-group {\n   169â†’            display: flex;\n   170â†’            gap: 12px;\n   171â†’            flex-wrap: wrap;\n   172â†’        }\n   173â†’\n   174â†’        .stats-grid {\n   175â†’            display: grid;\n   176â†’            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n   177â†’            gap: 15px;\n   178â†’            margin-bottom: 20px;\n   179â†’        }\n   180â†’\n   181â†’        .stat-card {\n   182â†’            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n   183â†’            padding: 20px;\n   184â†’            border-radius: 12px;\n   185â†’            color: white;\n   186â†’            text-align: center;\n   187â†’        }\n   188â†’\n   189â†’        .stat-value {\n   190â†’            font-size: 2rem;\n   191â†’            font-weight: bold;\n   192â†’            margin-bottom: 5px;\n   193â†’        }\n   194â†’\n   195â†’        .stat-label {\n   196â†’            font-size: 0.9rem;\n   197â†’            opacity: 0.9;\n   198â†’        }\n   199â†’\n   200â†’        .question-box {\n   201â†’            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);\n   202â†’            padding: 40px;\n   203â†’            border-radius: 16px;\n   204â†’            text-align: center;\n   205â†’            margin: 30px 0;\n   206â†’        }\n   207â†’\n   208â†’        .question-text {\n   209â†’            font-size: 3rem;\n   210â†’            font-weight: bold;\n   211â†’            color: white;\n   212â†’            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n   213â†’        }\n   214â†’\n   215â†’        .answer-input {\n   216â†’            font-size: 2rem;\n   217â†’            text-align: center;\n   218â†’            margin-top: 20px;\n   219â†’            padding: 15px;\n   220â†’        }\n   221â†’\n   222â†’        /* ç«–å¼æ ·å¼ */\n   223â†’        .vertical-question {\n   224â†’            background: white;\n   225â†’            padding: 30px;\n   226â†’            border-radius: 12px;\n   227â†’            margin: 20px auto;\n   228â†’            max-width: 300px;\n   229â†’            box-shadow: var(--shadow);\n   230â†’        }\n   231â†’\n   232â†’        .vertical-expression {\n   233â†’            text-align: right;\n   234â†’            font-size: 1.8rem;\n   235â†’            font-family: 'Courier New', monospace;\n   236â†’            line-height: 1.8;\n   237â†’        }\n   238â†’\n   239â†’        .vertical-number {\n   240â†’            padding: 5px 15px;\n   241â†’        }\n   242â†’\n   243â†’        .vertical-operator {\n   244â†’            padding-right: 10px;\n   245â†’        }\n   246â†’\n   247â†’        .vertical-line {\n   248â†’            border-top: 3px solid #333;\n   249â†’            margin: 5px 0;\n   250â†’        }\n   251â†’\n   252â†’        .vertical-answer {\n   253â†’            padding: 5px 15px;\n   254â†’            font-weight: bold;\n   255â†’        }\n   256â†’\n   257â†’        .vertical-input {\n   258â†’            width: 150px;\n   259â†’            font-size: 1.8rem;\n   260â†’            text-align: center;\n   261â†’            padding: 8px;\n   262â†’            border: 2px solid var(--primary-color);\n   263â†’            border-radius: 8px;\n   264â†’            margin-left: auto;\n   265â†’        }\n   266â†’\n   267â†’        .progress-bar {\n   268â†’            width: 100%;\n   269â†’            height: 8px;\n   270â†’            background: var(--border-color);\n   271â†’            border-radius: 4px;\n   272â†’            overflow: hidden;\n   273â†’            margin-bottom: 20px;\n   274â†’        }\n   275â†’\n   276â†’        .progress-fill {\n   277â†’            height: 100%;\n   278â†’            background: var(--primary-color);\n   279â†’            transition: width 0.3s ease;\n   280â†’        }\n   281â†’\n   282â†’        .timer {\n   283â†’            font-size: 1.5rem;\n   284â†’            font-weight: bold;\n   285â†’            color: var(--accent-color);\n   286â†’            text-align: center;\n   287â†’            margin-bottom: 20px;\n   288â†’        }\n   289â†’\n   290â†’        .result-summary {\n   291â†’            text-align: center;\n   292â†’            padding: 30px;\n   293â†’        }\n   294â†’\n   295â†’        .score-circle {\n   296â†’            width: 200px;\n   297â†’            height: 200px;\n   298â†’            border-radius: 50%;\n   299â†’            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n   300â†’            margin: 0 auto 30px;\n   301â†’            display: flex;\n   302â†’            align-items: center;\n   303â†’            justify-content: center;\n   304â†’            color: white;\n   305â†’            flex-direction: column;\n   306â†’        }\n   307â†’\n   308â†’        .score-value {\n   309â†’            font-size: 3.5rem;\n   310â†’            font-weight: bold;\n   311â†’        }\n   312â†’\n   313â†’        .score-label {\n   314â†’            font-size: 1rem;\n   315â†’            opacity: 0.9;\n   316â†’        }\n   317â†’\n   318â†’        .result-stats {\n   319â†’            display: grid;\n   320â†’            grid-template-columns: repeat(2, 1fr);\n   321â†’            gap: 15px;\n   322â†’            margin-bottom: 30px;\n   323â†’        }\n   324â†’\n   325â†’        .result-item {\n   326â†’            background: var(--bg-color);\n   327â†’            padding: 15px;\n   328â†’            border-radius: 10px;\n   329â†’            text-align: center;\n   330â†’        }\n   331â†’\n   332â†’        .result-item-label {\n   333â†’            font-size: 0.9rem;\n   334â†’            color: var(--text-secondary);\n   335â†’            margin-bottom: 5px;\n   336â†’        }\n   337â†’\n   338â†’        .result-item-value {\n   339â†’            font-size: 1.5rem;\n   340â†’            font-weight: bold;\n   341â†’            color: var(--primary-color);\n   342â†’        }\n   343â†’\n   344â†’        .wrong-answers {\n   345â†’            background: #fef2f2;\n   346â†’            border-left: 4px solid var(--danger-color);\n   347â†’            padding: 20px;\n   348â†’            border-radius: 10px;\n   349â†’            margin-top: 20px;\n   350â†’        }\n   351â†’\n   352â†’        .wrong-answers h3 {\n   353â†’            color: var(--danger-color);\n   354â†’            margin-bottom: 15px;\n   355â†’        }\n   356â†’\n   357â†’        .wrong-item {\n   358â†’            background: white;\n   359â†’            padding: 12px;\n   360â†’            border-radius: 8px;\n   361â†’            margin-bottom: 10px;\n   362â†’            display: flex;\n   363â†’            justify-content: space-between;\n   364â†’            align-items: center;\n   365â†’        }\n   366â†’\n   367â†’        .wrong-question {\n   368â†’            font-size: 1.1rem;\n   369â†’            font-weight: 600;\n   370â†’        }\n   371â†’\n   372â†’        .wrong-answer-info {\n   373â†’            font-size: 0.9rem;\n   374â†’            color: var(--text-secondary);\n   375â†’        }\n   376â†’\n   377â†’        .wrong-answer-info span {\n   378â†’            display: inline-block;\n   379â†’            margin: 0 10px;\n   380â†’        }\n   381â†’\n   382â†’        /* é¢˜å‹æ ‡ç­¾ */\n   383â†’        .question-type-badge {\n   384â†’            display: inline-block;\n   385â†’            padding: 6px 12px;\n   386â†’            border-radius: 20px;\n   387â†’            font-size: 0.85rem;\n   388â†’            font-weight: 600;\n   389â†’            margin-bottom: 15px;\n   390â†’        }\n   391â†’\n   392â†’        .type-oral {\n   393â†’            background: #dbeafe;\n   394â†’            color: #1e40af;\n   395â†’        }\n   396â†’\n   397â†’        .type-vertical {\n   398â†’            background: #fce7f3;\n   399â†’            color: #9d174d;\n   400â†’        }\n   401â†’\n   402â†’        /* æ‰“å°æ ·å¼ */\n   403â†’        .print-area {\n   404â†’            display: none;\n   405â†’        }\n   406â†’\n   407â†’        @media print {\n   408â†’            @page {\n   409â†’                margin: 10mm;\n   410â†’                size: A4;\n   411â†’            }\n   412â†’\n   413â†’            @page:last {\n   414â†’                margin: 10mm;\n   415â†’            }\n   416â†’\n   417â†’            /* å¼ºåˆ¶ä¸æ‰“å°ç©ºç™½é¡µ */\n   418â†’            * {\n   419â†’                -webkit-print-color-adjust: exact !important;\n   420â†’                print-color-adjust: exact !important;\n   421â†’            }\n   422â†’\n   423â†’            html, body {\n   424â†’                height: auto;\n   425â†’                margin: 0;\n   426â†’                padding: 0;\n   427â†’                overflow: visible;\n   428â†’                min-height: 0;\n   429â†’                max-height: none;\n   430â†’            }\n   431â†’\n   432â†’            /* ç¡®ä¿htmlå’Œbodyä¸ä¼šäº§ç”Ÿé¢å¤–åˆ†é¡µ */\n   433â†’            html::after, body::after {\n   434â†’                display: none;\n   435â†’                content: none;\n   436â†’            }\n   437â†’\n   438â†’            @page {\n   439â†’                orphans: 0;\n   440â†’                widows: 0;\n   441â†’            }\n   442â†’\n   443â†’            body * {\n   444â†’                visibility: hidden;\n   445â†’            }\n   446â†’\n   447â†’            .print-area, .print-area * {\n   448â†’                visibility: visible;\n   449â†’            }\n   450â†’\n   451â†’            .print-area {\n   452â†’                position: absolute;\n   453â†’                left: 0;\n   454â†’                top: 0;\n   455â†’                width: 100%;\n   456â†’                display: block;\n   457â†’                background: white;\n   458â†’                padding: 6mm;\n   459â†’                box-sizing: border-box;\n   460â†’                height: auto;\n   461â†’                max-height: none;\n   462â†’                overflow: visible;\n   463â†’                page-break-after: avoid;\n   464â†’                break-after: avoid;\n   465â†’            }\n   466â†’\n   467â†’            /* è¯•å·wrapperçš„åˆ†é¡µæ§åˆ¶ */\n   468â†’            .print-copy-wrapper {\n   469â†’                page-break-inside: avoid;\n   470â†’                page-break-after: auto;\n   471â†’            }\n   472â†’\n   473â†’            /* åªæœ‰å¤šä¸ªwrapperæ—¶æ‰åœ¨åé¢åˆ†é¡µ */\n   474â†’            .print-copy-wrapper:not(:only-child):not(:last-child) {\n   475â†’                page-break-after: always;\n   476â†’            }\n   477â†’\n   478â†’            /* å”¯ä¸€ä¸€ä»½æˆ–æœ€åä¸€ä»½ä¸åˆ†é¡µ */\n   479â†’            .print-copy-wrapper:only-child {\n   480â†’                page-break-after: auto !important;\n   481â†’            }\n   482â†’\n   483â†’            .print-copy-wrapper:last-child {\n   484â†’                page-break-after: auto !important;\n   485â†’            }\n   486â†’\n   487â†’            /* ç¡®ä¿wrapperå†…éƒ¨æ‰€æœ‰å…ƒç´ éƒ½ä¸ä¼šäº§ç”Ÿé¢å¤–åˆ†é¡µ */\n   488â†’            .print-copy-wrapper > * {\n   489â†’                page-break-after: auto !important;\n   490â†’            }\n   491â†’\n   492â†’            .print-header {\n   493â†’                text-align: center;\n   494â†’                margin-bottom: 8px;\n   495â†’                page-break-after: avoid;\n   496â†’                page-break-inside: avoid;\n   497â†’            }\n   498â†’\n   499â†’            .print-header h1 {\n   500â†’                font-size: 1.2rem;\n   501â†’                font-weight: bold;\n   502â†’                margin: 0;\n   503â†’                padding: 0;\n   504â†’            }\n   505â†’\n   506â†’            .print-section {\n   507â†’                margin-bottom: 8px;\n   508â†’                page-break-inside: avoid;\n   509â†’            }\n   510â†’\n   511â†’            .print-section:last-child {\n   512â†’                margin-bottom: 0;\n   513â†’            }\n   514â†’\n   515â†’            /* é˜²æ­¢å†…å®¹åˆ†é¡µ */\n   516â†’            #printContent {\n   517â†’                page-break-inside: avoid;\n   518â†’            }\n   519â†’\n   520â†’            /* ç¡®ä¿printContentæœ¬èº«å’Œå†…éƒ¨æœ€åä¸€ä¸ªå…ƒç´ ä¸åˆ†é¡µ */\n   521â†’            #printContent > div:last-child {\n   522â†’                page-break-after: auto !important;\n   523â†’            }\n   524â†’\n   525â†’            /* ç‰¹åˆ«å¤„ç†ï¼šprintContentåªæœ‰ä¸€ä¸ªå­å…ƒç´ æ—¶ï¼Œå®Œå…¨ä¸åˆ†é¡µ */\n   526â†’            #printContent:has(> div:only-child) {\n   527â†’                page-break-after: avoid !important;\n   528â†’            }\n   529â†’\n   530â†’            #printContent:has(> div:only-child) > div {\n   531â†’                page-break-after: avoid !important;\n   532â†’            }\n   533â†’\n   534â†’            .print-section {\n   535â†’                page-break-inside: avoid;\n   536â†’            }\n   537â†’\n   538â†’            .print-oral, .print-vertical {\n   539â†’                page-break-inside: avoid;\n   540â†’            }\n   541â†’\n   542â†’            .print-section-title {\n   543â†’                font-size: 0.95rem;\n   544â†’                font-weight: bold;\n   545â†’                margin-bottom: 8px;\n   546â†’                padding-bottom: 6px;\n   547â†’                border-bottom: 2px solid #000;\n   548â†’            }\n   549â†’\n   550â†’            .print-oral {\n   551â†’                display: inline-block;\n   552â†’                width: 20%;\n   553â†’                margin: 5px 0.5% 8px 0.5%;\n   554â†’                font-size: 0.85rem;\n   555â†’                vertical-align: top;\n   556â†’                font-family: 'Courier New', monospace;\n   557â†’                white-space: nowrap;\n   558â†’                overflow: hidden;\n   559â†’                box-sizing: border-box;\n   560â†’                text-align: left;\n   561â†’                line-height: 1.4;\n   562â†’            }\n   563â†’\n   564â†’            .print-oral .eq-align {\n   565â†’                display: inline-block;\n   566â†’                width: 100%;\n   567â†’            }\n   568â†’\n   569â†’            .print-vertical {\n   570â†’                display: inline-block;\n   571â†’                width: 20%;\n   572â†’                margin: 5px 0.5% 8px 0.5%;\n   573â†’                vertical-align: top;\n   574â†’                font-family: 'Courier New', monospace;\n   575â†’                font-size: 0.75rem;\n   576â†’                line-height: 1.2;\n   577â†’                background: white;\n   578â†’                padding: 4px;\n   579â†’                border: 1px solid #ddd;\n   580â†’                border-radius: 3px;\n   581â†’                page-break-inside: avoid;\n   582â†’                box-sizing: border-box;\n   583â†’            }\n   584â†’\n   585â†’            .print-vertical-calculation {\n   586â†’                text-align: right;\n   587â†’                margin: 3px 0;\n   588â†’            }\n   589â†’\n   590â†’            .print-vertical-numbers {\n   591â†’                display: inline-block;\n   592â†’                text-align: right;\n   593â†’                font-size: 0.8rem;\n   594â†’            }\n   595â†’\n   596â†’            .print-vertical-line {\n   597â†’                border-top: 0.5px solid #000;\n   598â†’                margin: 2px 0 2px 0;\n   599â†’            }\n   600â†’\n   601â†’            .print-vertical-answer {\n   602â†’                min-height: 20px;\n   603â†’                margin-top: 2px;\n   604â†’            }\n   605â†’\n   606â†’            .print-vertical-horizontal {\n   607â†’                font-size: 0.7rem;\n   608â†’                color: #333;\n   609â†’                margin-bottom: 3px;\n   610â†’                font-weight: 600;\n   611â†’                text-align: left;\n   612â†’                white-space: nowrap;\n   613â†’                font-family: 'Courier New', monospace;\n   614â†’            }\n   615â†’\n   616â†’            .print-vertical-num {\n   617â†’                letter-spacing: 0;\n   618â†’            }\n   619â†’\n   620â†’            .print-info {\n   621â†’                display: flex;\n   622â†’                justify-content: space-between;\n   623â†’                margin-bottom: 10px;\n   624â†’                padding-bottom: 6px;\n   625â†’                border-bottom: 2px solid #000;\n   626â†’                font-size: 0.85rem;\n   627â†’                page-break-after: avoid;\n   628â†’                page-break-inside: avoid;\n   629â†’            }\n   630â†’\n   631â†’            /* ç¡®ä¿æ‰“å°åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ ä¸ä¼šäº§ç”Ÿé¢å¤–åˆ†é¡µ */\n   632â†’            .print-area > *:last-child {\n   633â†’                page-break-after: auto !important;\n   634â†’            }\n   635â†’\n   636â†’            /* é¢å¤–çš„é˜²ç©ºç™½é¡µæªæ–½ */\n   637â†’            #printContent {\n   638â†’                page-break-after: avoid !important;\n   639â†’                break-after: avoid !important;\n   640â†’            }\n   641â†’\n   642â†’            /* ç¡®ä¿bodyå’Œhtmlåœ¨æ‰“å°æ—¶ä¸ä¼šäº§ç”Ÿé¢å¤–é¡µé¢ */\n   643â†’            body {\n   644â†’                page-break-after: avoid !important;\n   645â†’                break-after: avoid !important;\n   646â†’            }\n   647â†’\n   648â†’            html {\n   649â†’                page-break-after: avoid !important;\n   650â†’                break-after: avoid !important;\n   651â†’            }\n   652â†’\n   653â†’            /* ä½¿ç”¨breakå±æ€§çš„ç°ä»£æµè§ˆå™¨æ”¯æŒ */\n   654â†’            .print-copy-wrapper {\n   655â†’                break-inside: avoid;\n   656â†’            }\n   657â†’\n   658â†’            .print-copy-wrapper:only-child {\n   659â†’                break-after: avoid !important;\n   660â†’            }\n   661â†’\n   662â†’            .print-copy-wrapper:last-child {\n   663â†’                break-after: avoid !important;\n   664â†’            }\n   665â†’        }\n   666â†’\n   667â†’        .toast {\n   668â†’            position: fixed;\n   669â†’            top: 20px;\n   670â†’            right: 20px;\n   671â†’            padding: 16px 24px;\n   672â†’            border-radius: 10px;\n   673â†’            color: white;\n   674â†’            font-weight: 600;\n   675â†’            z-index: 1000;\n   676â†’            animation: slideIn 0.3s ease;\n   677â†’        }\n   678â†’\n   679â†’        @keyframes slideIn {\n   680â†’            from { transform: translateX(100%); opacity: 0; }\n   681â†’            to { transform: translateX(0); opacity: 1; }\n   682â†’        }\n   683â†’\n   684â†’        .toast.success {\n   685â†’            background: var(--success-color);\n   686â†’        }\n   687â†’\n   688â†’        .toast.error {\n   689â†’            background: var(--danger-color);\n   690â†’        }\n   691â†’\n   692â†’        .checkbox-group {\n   693â†’            display: flex;\n   694â†’            flex-wrap: wrap;\n   695â†’            gap: 15px;\n   696â†’        }\n   697â†’\n   698â†’        .checkbox-item {\n   699â†’            display: flex;\n   700â†’            align-items: center;\n   701â†’            gap: 8px;\n   702â†’            cursor: pointer;\n   703â†’        }\n   704â†’\n   705â†’        .checkbox-item input[type=\"checkbox\"] {\n   706â†’            width: 20px;\n   707â†’            height: 20px;\n   708â†’            cursor: pointer;\n   709â†’        }\n   710â†’\n   711â†’        .history-list {\n   712â†’            max-height: 400px;\n   713â†’            overflow-y: auto;\n   714â†’        }\n   715â†’\n   716â†’        .history-item {\n   717â†’            background: var(--bg-color);\n   718â†’            padding: 15px;\n   719â†’            border-radius: 10px;\n   720â†’            margin-bottom: 10px;\n   721â†’            cursor: pointer;\n   722â†’            transition: all 0.3s ease;\n   723â†’        }\n   724â†’\n   725â†’        .history-item:hover {\n   726â†’            box-shadow: var(--shadow);\n   727â†’            transform: translateX(5px);\n   728â†’        }\n   729â†’\n   730â†’        .history-date {\n   731â†’            font-size: 0.85rem;\n   732â†’            color: var(--text-secondary);\n   733â†’            margin-bottom: 5px;\n   734â†’        }\n   735â†’\n   736â†’        .history-stats {\n   737â†’            display: flex;\n   738â†’            gap: 15px;\n   739â†’            font-size: 0.9rem;\n   740â†’        }\n   741â†’\n   742â†’        .history-stats span {\n   743â†’            font-weight: 600;\n   744â†’            color: var(--primary-color);\n   745â†’        }\n   746â†’\n   747â†’        @media (max-width: 768px) {\n   748â†’            header h1 {\n   749â†’                font-size: 1.6rem;\n   750â†’            }\n   751â†’\n   752â†’            .card {\n   753â†’                padding: 20px;\n   754â†’            }\n   755â†’\n   756â†’            .question-text {\n   757â†’                font-size: 2rem;\n   758â†’            }\n   759â†’\n   760â†’            .answer-input {\n   761â†’                font-size: 1.5rem;\n   762â†’            }\n   763â†’\n   764â†’            .btn-group {\n   765â†’                flex-direction: column;\n   766â†’            }\n   767â†’\n   768â†’            .btn {\n   769â†’                width: 100%;\n   770â†’            }\n   771â†’\n   772â†’            .result-stats {\n   773â†’                grid-template-columns: 1fr;\n   774â†’            }\n   775â†’\n   776â†’            .vertical-expression {\n   777â†’                font-size: 1.4rem;\n   778â†’            }\n   779â†’\n   780â†’            .vertical-input {\n   781â†’                width: 120px;\n   782â†’                font-size: 1.4rem;\n   783â†’            }\n   784â†’        }\n   785â†’    </style>\n   786â†’</head>\n   787â†’<body>\n   788â†’    <div class=\"container\">\n   789â†’        <header>\n   790â†’            <h1>ğŸ§® å°å­¦æ•°å­¦å¿«é€Ÿå‡ºé¢˜å™¨</h1>\n   791â†’            <p>å£ç®— + ç«–å¼ï¼Œè®©æ•°å­¦ç»ƒä¹ æ›´å…¨é¢ï¼</p>\n   792â†’        </header>\n   793â†’\n   794â†’        <!-- ä¸»ç•Œé¢ -->\n   795â†’        <div id=\"homeSection\" class=\"section active\">\n   796â†’            <div class=\"card\">\n   797â†’                <h2 style=\"margin-bottom: 20px;\">ğŸ¯ å¼€å§‹ç»ƒä¹ </h2>\n   798â†’\n   799â†’                <div class=\"form-group\">\n   800â†’                    <label>ğŸ“š é€‰æ‹©å¹´çº§</label>\n   801â†’                    <select id=\"gradeSelect\">\n   802â†’                        <option value=\"1\">ä¸€å¹´çº§ (6-7å²) - 20ä»¥å†…åŠ å‡æ³•</option>\n   803â†’                        <option value=\"2\">äºŒå¹´çº§ (7-8å²) - 100ä»¥å†…åŠ å‡æ³•ã€ä¹˜æ³•å£è¯€</option>\n   804â†’                        <option value=\"3\" selected>ä¸‰å¹´çº§ (8-9å²) - 1000ä»¥å†…åŠ å‡ä¹˜é™¤</option>\n   805â†’                        <option value=\"4\">å››å¹´çº§ (9-10å²) - å¤§æ•°è¿ç®—ã€å°æ•°åŠ å‡</option>\n   806â†’                        <option value=\"5\">äº”å¹´çº§ (10-11å²) - å°æ•°ä¹˜é™¤ã€åˆ†æ•°åŠ å‡</option>\n   807â†’                        <option value=\"6\">å…­å¹´çº§ (11-12å²) - åˆ†æ•°ä¹˜é™¤ã€ç™¾åˆ†æ•°</option>\n   808â†’                    </select>\n   809â†’                </div>\n   810â†’\n   811â†’                <div class=\"form-group\">\n   812â†’                    <label>ğŸ“ é¢˜å‹é€‰æ‹©ï¼ˆè‡³å°‘é€‰ä¸€ç§ï¼‰</label>\n   813â†’                    <div class=\"checkbox-group\">\n   814â†’                        <label class=\"checkbox-item\">\n   815â†’                            <input type=\"checkbox\" id=\"oralCheck\" checked> å£ç®—é¢˜ï¼ˆæ¨ªå¼è®¡ç®—ï¼‰\n   816â†’                        </label>\n   817â†’                        <label class=\"checkbox-item\">\n   818â†’                            <input type=\"checkbox\" id=\"verticalCheck\" checked> ç«–å¼é¢˜ï¼ˆç¬”ç®—è®¡ç®—ï¼‰\n   819â†’                        </label>\n   820â†’                    </div>\n   821â†’                    <p style=\"font-size: 0.85rem; color: var(--text-secondary); margin-top: 8px;\">ğŸ’¡ æç¤ºï¼šå¯å•é€‰æˆ–åŒé€‰ï¼Œé¢˜ç›®å°†æŒ‰é¡ºåºå‡ºç°</p>\n   822â†’                </div>\n   823â†’\n   824â†’                <div class=\"form-group\">\n   825â†’                    <label>âœï¸ è¿ç®—ç±»å‹ï¼ˆå¯å¤šé€‰ï¼‰</label>\n   826â†’                    <div class=\"checkbox-group\">\n   827â†’                        <label class=\"checkbox-item\">\n   828â†’                            <input type=\"checkbox\" value=\"add\" checked> åŠ æ³•\n   829â†’                        </label>\n   830â†’                        <label class=\"checkbox-item\">\n   831â†’                            <input type=\"checkbox\" value=\"subtract\" checked> å‡æ³•\n   832â†’                        </label>\n   833â†’                        <label class=\"checkbox-item\">\n   834â†’                            <input type=\"checkbox\" value=\"multiply\"> ä¹˜æ³•\n   835â†’                        </label>\n   836â†’                        <label class=\"checkbox-item\">\n   837â†’                            <input type=\"checkbox\" value=\"divide\"> é™¤æ³•\n   838â†’                        </label>\n   839â†’                    </div>\n   840â†’                </div>\n   841â†’\n   842â†’                <div class=\"form-group\">\n   843â†’                    <label>ğŸ“Š éš¾åº¦çº§åˆ«</label>\n   844â†’                    <select id=\"difficultySelect\">\n   845â†’                        <option value=\"easy\">ç®€å• - åŸºç¡€è¿ç®—</option>\n   846â†’                        <option value=\"medium\" selected>ä¸­ç­‰ - éœ€è¦è¿›é€€ä½</option>\n   847â†’                        <option value=\"hard\">å›°éš¾ - å¤æ‚è¿ç®—</option>\n   848â†’                    </select>\n   849â†’                </div>\n   850â†’\n   851â†’                <div class=\"form-group\">\n   852â†’                    <label>ğŸ“Š é¢˜ç›®æ•°é‡è®¾ç½®</label>\n   853â†’                    <div style=\"display: flex; gap: 15px; margin-bottom: 10px;\">\n   854â†’                        <div style=\"flex: 1;\">\n   855â†’                            <label style=\"font-size: 0.95rem; color: var(--primary-color); font-weight: 600;\">ğŸ“ ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜</label>\n   856â†’                            <select id=\"oralCount\">\n   857â†’                                <option value=\"12\">12é¢˜</option>\n   858â†’                                <option value=\"16\">16é¢˜</option>\n   859â†’                                <option value=\"20\" selected>20é¢˜</option>\n   860â†’                                <option value=\"24\">24é¢˜</option>\n   861â†’                                <option value=\"28\">28é¢˜</option>\n   862â†’                                <option value=\"32\">32é¢˜</option>\n   863â†’                                <option value=\"36\">36é¢˜</option>\n   864â†’                                <option value=\"40\">40é¢˜</option>\n   865â†’                            </select>\n   866â†’                        </div>\n   867â†’                        <div style=\"flex: 1;\">\n   868â†’                            <label style=\"font-size: 0.95rem; color: var(--secondary-color); font-weight: 600;\">âœï¸ ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜</label>\n   869â†’                            <select id=\"verticalCount\">\n   870â†’                                <option value=\"8\">8é¢˜</option>\n   871â†’                                <option value=\"12\">12é¢˜</option>\n   872â†’                                <option value=\"16\" selected>16é¢˜</option>\n   873â†’                                <option value=\"20\">20é¢˜</option>\n   874â†’                                <option value=\"24\">24é¢˜</option>\n   875â†’                            </select>\n   876â†’                        </div>\n   877â†’                    </div>\n   878â†’                    <p style=\"font-size: 0.85rem; color: var(--text-secondary);\">ğŸ“Œ é¢˜ç›®å°†æŒ‰é¡ºåºå‡ºç°ï¼šå…ˆå®Œæˆæ‰€æœ‰å£ç®—é¢˜ï¼Œå†è¿›è¡Œç«–å¼é¢˜ | æ•°é‡ä¸º4çš„å€æ•°ï¼Œä¾¿äºæ’ç‰ˆ</p>\n   879â†’                </div>\n   880â†’\n   881â†’                <div class=\"btn-group\">\n   882â†’                    <button class=\"btn btn-primary\" onclick=\"startPractice()\">ğŸ® å¼€å§‹ç»ƒä¹ </button>\n   883â†’                    <button class=\"btn btn-info\" onclick=\"startTimedTest()\">â±ï¸ è®¡æ—¶æµ‹è¯•</button>\n   884â†’                    <button class=\"btn btn-secondary\" onclick=\"showPrintDialog()\">ğŸ–¨ï¸ ç”Ÿæˆè¯•å·</button>\n   885â†’                    <button class=\"btn btn-primary\" onclick=\"showHistory()\">ğŸ“– æŸ¥çœ‹è®°å½•</button>\n   886â†’                </div>\n   887â†’            </div>\n   888â†’\n   889â†’            <div class=\"card\">\n   890â†’                <h2 style=\"margin-bottom: 20px;\">ğŸ“ˆ å­¦ä¹ ç»Ÿè®¡</h2>\n   891â†’                <div class=\"stats-grid\">\n   892â†’                    <div class=\"stat-card\">\n   893â†’                        <div class=\"stat-value\" id=\"todayCount\">0</div>\n   894â†’                        <div class=\"stat-label\">ä»Šæ—¥ç»ƒä¹ ï¼ˆæ¬¡ï¼‰</div>\n   895â†’                    </div>\n   896â†’                    <div class=\"stat-card\">\n   897â†’                        <div class=\"stat-value\" id=\"avgAccuracy\">0%</div>\n   898â†’                        <div class=\"stat-label\">å¹³å‡æ­£ç¡®ç‡</div>\n   899â†’                    </div>\n   900â†’                    <div class=\"stat-card\">\n   901â†’                        <div class=\"stat-value\" id=\"totalQuestions\">0</div>\n   902â†’                        <div class=\"stat-label\">ç´¯è®¡åšé¢˜ï¼ˆé¢˜ï¼‰</div>\n   903â†’                    </div>\n   904â†’                    <div class=\"stat-card\">\n   905â†’                        <div class=\"stat-value\" id=\"bestStreak\">0</div>\n   906â†’                        <div class=\"stat-label\">æœ€ä½³è¿ç»­ç­”å¯¹</div>\n   907â†’                    </div>\n   908â†’                </div>\n   909â†’            </div>\n   910â†’        </div>\n   911â†’\n   912â†’        <!-- ç­”é¢˜ç•Œé¢ -->\n   913â†’        <div id=\"practiceSection\" class=\"section\">\n   914â†’            <div class=\"card\">\n   915â†’                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;\">\n   916â†’                    <div>\n   917â†’                        <span id=\"questionTypeBadge\" class=\"question-type-badge type-oral\">ç¬¬ä¸€éƒ¨åˆ† å£ç®—é¢˜</span>\n   918â†’                        <div style=\"font-size: 1.1rem; font-weight: 600; margin-top: 10px; color: var(--text-secondary);\" id=\"sectionInfo\">ç¬¬ä¸€éƒ¨åˆ† - ç¬¬1/10é¢˜</div>\n   919â†’                        <div style=\"font-size: 0.9rem; color: var(--text-secondary); margin-top: 5px;\">æ€»è¿›åº¦ï¼šç¬¬ <span id=\"currentQ\">1</span>/<span id=\"totalQ\">20</span> é¢˜</div>\n   920â†’                    </div>\n   921â†’                    <div class=\"timer\" id=\"timer\">00:00</div>\n   922â†’                </div>\n   923â†’\n   924â†’                <div class=\"progress-bar\">\n   925â†’                    <div class=\"progress-fill\" id=\"progressFill\" style=\"width: 0%\"></div>\n   926â†’                </div>\n   927â†’\n   928â†’                <!-- å£ç®—é¢˜ç›®æ˜¾ç¤º -->\n   929â†’                <div id=\"oralQuestionArea\" class=\"question-box\">\n   930â†’                    <div class=\"question-text\" id=\"questionText\">23 + 15 = ?</div>\n   931â†’                    <input type=\"number\" class=\"answer-input\" id=\"answerInput\" placeholder=\"è¾“å…¥ç­”æ¡ˆ\" onkeypress=\"handleKeyPress(event)\">\n   932â†’                </div>\n   933â†’\n   934â†’                <!-- ç«–å¼é¢˜ç›®æ˜¾ç¤º -->\n   935â†’                <div id=\"verticalQuestionArea\" class=\"vertical-question\" style=\"display: none;\">\n   936â†’                    <div style=\"text-align: center; font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 15px;\" id=\"verticalHorizontalDisplay\">\n   937â†’                        123 + 45 = ?\n   938â†’                    </div>\n   939â†’                    <div class=\"vertical-expression\">\n   940â†’                        <div class=\"vertical-number\" id=\"verticalNum1\">123</div>\n   941â†’                        <div>\n   942â†’                            <span class=\"vertical-operator\" id=\"verticalOperator\">+</span>\n   943â†’                            <span class=\"vertical-number\" id=\"verticalNum2\">45</span>\n   944â†’                        </div>\n   945â†’                        <div class=\"vertical-line\"></div>\n   946â†’                        <div>\n   947â†’                            <input type=\"number\" class=\"vertical-input\" id=\"verticalAnswerInput\" placeholder=\"?\" onkeypress=\"handleKeyPress(event)\">\n   948â†’                        </div>\n   949â†’                    </div>\n   950â†’                </div>\n   951â†’\n   952â†’                <div class=\"btn-group\">\n   953â†’                    <button class=\"btn btn-primary\" onclick=\"submitAnswer()\">âœ… æäº¤ç­”æ¡ˆ</button>\n   954â†’                    <button class=\"btn btn-secondary\" onclick=\"skipQuestion()\">â­ï¸ è·³è¿‡</button>\n   955â†’                    <button class=\"btn btn-info\" onclick=\"readQuestion()\">ğŸ”Š è¯»é¢˜</button>\n   956â†’                </div>\n   957â†’            </div>\n   958â†’        </div>\n   959â†’\n   960â†’        <!-- æˆç»©ç•Œé¢ -->\n   961â†’        <div id=\"resultSection\" class=\"section\">\n   962â†’            <div class=\"card\">\n   963â†’                <div class=\"result-summary\">\n   964â†’                    <div class=\"score-circle\">\n   965â†’                        <div class=\"score-value\" id=\"finalScore\">90</div>\n   966â†’                        <div class=\"score-label\">åˆ†</div>\n   967â†’                    </div>\n   968â†’\n   969â†’                    <h2 id=\"resultTitle\" style=\"margin-bottom: 20px;\">ğŸ‰ å¤ªæ£’äº†ï¼</h2>\n   970â†’\n   971â†’                    <div class=\"result-stats\">\n   972â†’                        <div class=\"result-item\">\n   973â†’                            <div class=\"result-item-label\">é¢˜ç›®æ€»æ•°</div>\n   974â†’                            <div class=\"result-item-value\" id=\"resultTotal\">20</div>\n   975â†’                        </div>\n   976â†’                        <div class=\"result-item\">\n   977â†’                            <div class=\"result-item-label\">æ­£ç¡®é¢˜æ•°</div>\n   978â†’                            <div class=\"result-item-value\" style=\"color: var(--success-color);\" id=\"resultCorrect\">18</div>\n   979â†’                        </div>\n   980â†’                        <div class=\"result-item\">\n   981â†’                            <div class=\"result-item-label\">é”™è¯¯é¢˜æ•°</div>\n   982â†’                            <div class=\"result-item-value\" style=\"color: var(--danger-color);\" id=\"resultWrong\">2</div>\n   983â†’                        </div>\n   984â†’                        <div class=\"result-item\">\n   985â†’                            <div class=\"result-item-label\">ç”¨æ—¶</div>\n   986â†’                            <div class=\"result-item-value\" id=\"resultTime\">03:45</div>\n   987â†’                        </div>\n   988â†’                    </div>\n   989â†’\n   990â†’                    <div id=\"sectionStats\" style=\"margin: 20px 0; padding: 15px; background: #f9fafb; border-radius: 10px;\">\n   991â†’                        <h3 style=\"text-align: center; margin-bottom: 15px; font-size: 1.1rem;\">ğŸ“Š å„éƒ¨åˆ†æˆç»©</h3>\n   992â†’                        <div id=\"sectionStatsContent\"></div>\n   993â†’                    </div>\n   994â†’\n   995â†’                    <div id=\"wrongAnswersSection\" class=\"wrong-answers\" style=\"display: none;\">\n   996â†’                        <h3>âŒ é”™é¢˜å›é¡¾</h3>\n   997â†’                        <div id=\"wrongAnswersList\"></div>\n   998â†’                    </div>\n   999â†’\n  1000â†’                    <div class=\"btn-group\" style=\"margin-top: 30px;\">\n  1001â†’                        <button class=\"btn btn-primary\" onclick=\"restart()\">ğŸ”„ å†ç»ƒä¸€æ¬¡</button>\n  1002â†’                        <button class=\"btn btn-secondary\" onclick=\"practiceWrong()\">ğŸ“• é‡ç»ƒé”™é¢˜</button>\n  1003â†’                        <button class=\"btn btn-info\" onclick=\"goHome()\">ğŸ  è¿”å›ä¸»é¡µ</button>\n  1004â†’                    </div>\n  1005â†’                </div>\n  1006â†’            </div>\n  1007â†’        </div>\n  1008â†’\n  1009â†’        <!-- å†å²è®°å½•ç•Œé¢ -->\n  1010â†’        <div id=\"historySection\" class=\"section\">\n  1011â†’            <div class=\"card\">\n  1012â†’                <h2 style=\"margin-bottom: 20px;\">ğŸ“– ç»ƒä¹ è®°å½•</h2>\n  1013â†’                <div class=\"history-list\" id=\"historyList\">\n  1014â†’                    <p style=\"text-align: center; color: var(--text-secondary); padding: 40px;\">æš‚æ— ç»ƒä¹ è®°å½•</p>\n  1015â†’                </div>\n  1016â†’                <div class=\"btn-group\" style=\"margin-top: 20px;\">\n  1017â†’                    <button class=\"btn btn-primary\" onclick=\"goHome()\">ğŸ  è¿”å›ä¸»é¡µ</button>\n  1018â†’                    <button class=\"btn btn-danger\" onclick=\"clearHistory()\">ğŸ—‘ï¸ æ¸…ç©ºè®°å½•</button>\n  1019â†’                </div>\n  1020â†’            </div>\n  1021â†’        </div>\n  1022â†’\n  1023â†’        <!-- æ‰“å°è®¾ç½®å¯¹è¯æ¡† -->\n  1024â†’        <div id=\"printDialog\" class=\"section\" style=\"position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px;\">\n  1025â†’            <div class=\"card\" style=\"max-width: 500px; width: 100%; animation: fadeIn 0.3s ease;\">\n  1026â†’                <h2 style=\"margin-bottom: 20px;\">ğŸ–¨ï¸ ç”Ÿæˆè¯•å·è®¾ç½®</h2>\n  1027â†’\n  1028â†’                <div class=\"form-group\">\n  1029â†’                    <label>ğŸ“Š ç”Ÿæˆä»½æ•°</label>\n  1030â†’                    <select id=\"printCopies\" style=\"margin-bottom: 15px;\">\n  1031â†’                        <option value=\"1\">1ä»½</option>\n  1032â†’                        <option value=\"2\">2ä»½</option>\n  1033â†’                        <option value=\"5\">5ä»½</option>\n  1034â†’                        <option value=\"10\">10ä»½</option>\n  1035â†’                        <option value=\"20\">20ä»½</option>\n  1036â†’                        <option value=\"30\" selected>30ä»½ï¼ˆå…¨ç­ä½¿ç”¨ï¼‰</option>\n  1037â†’                        <option value=\"40\">40ä»½</option>\n  1038â†’                        <option value=\"50\">50ä»½</option>\n  1039â†’                    </select>\n  1040â†’                </div>\n  1041â†’\n  1042â†’                <div class=\"form-group\">\n  1043â†’                    <label>ğŸ² é¢˜ç›®è®¾ç½®</label>\n  1044â†’                    <div class=\"checkbox-group\">\n  1045â†’                        <label class=\"checkbox-item\">\n  1046â†’                            <input type=\"checkbox\" id=\"sameQuestions\"> æ‰€æœ‰ä»½ä½¿ç”¨ç›¸åŒé¢˜ç›®\n  1047â†’                        </label>\n  1048â†’                    </div>\n  1049â†’                    <p style=\"font-size: 0.85rem; color: var(--text-secondary); margin-top: 8px;\">\n  1050â†’                        ğŸ’¡ æç¤ºï¼šå‹¾é€‰åæ‰€æœ‰è¯•å·é¢˜ç›®ç›¸åŒï¼›ä¸å‹¾é€‰åˆ™æ¯ä»½è¯•å·é¢˜ç›®ä¸åŒï¼ˆé˜²ä½œå¼Šï¼‰\n  1051â†’                    </p>\n  1052â†’                </div>\n  1053â†’\n  1054â†’                <div class=\"btn-group\">\n  1055â†’                    <button class=\"btn btn-primary\" onclick=\"confirmGeneratePrint()\">âœ… ç¡®è®¤ç”Ÿæˆ</button>\n  1056â†’                    <button class=\"btn btn-secondary\" onclick=\"closePrintDialog()\">âŒ å–æ¶ˆ</button>\n  1057â†’                </div>\n  1058â†’            </div>\n  1059â†’        </div>\n  1060â†’\n  1061â†’        <!-- æ‰“å°åŒºåŸŸ -->\n  1062â†’        <div class=\"print-area\" id=\"printArea\">\n  1063â†’            <div id=\"printContent\"></div>\n  1064â†’        </div>\n  1065â†’    </div>\n  1066â†’\n  1067â†’    <script>\n  1068â†’        // å…¨å±€å˜é‡\n  1069â†’        let questions = [];\n  1070â†’        let currentQuestionIndex = 0;\n  1071â†’        let correctCount = 0;\n  1072â†’        let wrongAnswers = [];\n  1073â†’        let startTime = null;\n  1074â†’        let timerInterval = null;\n  1075â†’        let settings = {};\n  1076â†’        let streak = 0;\n  1077â†’\n  1078â†’        // åˆå§‹åŒ–\n  1079â†’        window.onload = function() {\n  1080â†’            loadStats();\n  1081â†’            loadHistory();\n  1082â†’        };\n  1083â†’\n  1084â†’        // å·¥å…·å‡½æ•°\n  1085â†’        function random(min, max) {\n  1086â†’            return Math.floor(Math.random() * (max - min + 1)) + min;\n  1087â†’        }\n  1088â†’\n  1089â†’        function formatTime(seconds) {\n  1090â†’            const mins = Math.floor(seconds / 60);\n  1091â†’            const secs = seconds % 60;\n  1092â†’            return `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;\n  1093â†’        }\n  1094â†’\n  1095â†’        function showToast(message, type = 'success') {\n  1096â†’            const toast = document.createElement('div');\n  1097â†’            toast.className = `toast ${type}`;\n  1098â†’            toast.textContent = message;\n  1099â†’            document.body.appendChild(toast);\n  1100â†’            setTimeout(() => toast.remove(), 3000);\n  1101â†’        }\n  1102â†’\n  1103â†’        function showSection(sectionId) {\n  1104â†’            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));\n  1105â†’            document.getElementById(sectionId).classList.add('active');\n  1106â†’        }\n  1107â†’\n  1108â†’        // è·å–æ•°å­—èŒƒå›´\n  1109â†’        function getNumberRange(grade) {\n  1110â†’            switch(grade) {\n  1111â†’                case 1: return { min: 1, max: 10 };\n  1112â†’                case 2: return { min: 1, max: 50 };\n  1113â†’                case 3: return { min: 1, max: 100 };\n  1114â†’                case 4: return { min: 1, max: 500 };\n  1115â†’                case 5: return { min: 1, max: 1000 };\n  1116â†’                case 6: return { min: 1, max: 5000 };\n  1117â†’                default: return { min: 1, max: 100 };\n  1118â†’            }\n  1119â†’        }\n  1120â†’\n  1121â†’        // ç”Ÿæˆå£ç®—é¢˜\n  1122â†’        function generateOralQuestion(grade, difficulty, operation) {\n  1123â†’            const { min, max } = getNumberRange(grade);\n  1124â†’\n  1125â†’            switch(operation) {\n  1126â†’                case 'add':\n  1127â†’                    let a1 = random(min, max);\n  1128â†’                    let b1 = random(min, max);\n  1129â†’                    if (difficulty === 'easy') {\n  1130â†’                        a1 = random(1, Math.min(9, max));\n  1131â†’                        b1 = random(1, Math.min(9, max));\n  1132â†’                    }\n  1133â†’                    return { type: 'oral', question: `${a1} + ${b1}`, answer: a1 + b1, display: `${a1} + ${b1} = ?` };\n  1134â†’\n  1135â†’                case 'subtract':\n  1136â†’                    let ans1 = random(min, max);\n  1137â†’                    let b_sub = random(min, ans1);\n  1138â†’                    let a_sub = ans1 + b_sub;\n  1139â†’                    if (difficulty === 'easy') {\n  1140â†’                        ans1 = random(1, Math.min(9, max));\n  1141â†’                        b_sub = random(1, ans1);\n  1142â†’                        a_sub = ans1 + b_sub;\n  1143â†’                    }\n  1144â†’                    return { type: 'oral', question: `${a_sub} - ${b_sub}`, answer: ans1, display: `${a_sub} - ${b_sub} = ?` };\n  1145â†’\n  1146â†’                case 'multiply':\n  1147â†’                    if (grade === 2) {\n  1148â†’                        const ma = random(1, 9);\n  1149â†’                        const mb = random(1, 9);\n  1150â†’                        return { type: 'oral', question: `${ma} Ã— ${mb}`, answer: ma * mb, display: `${ma} Ã— ${mb} = ?` };\n  1151â†’                    } else if (grade === 3) {\n  1152â†’                        const ma = random(10, 99);\n  1153â†’                        const mb = random(2, 9);\n  1154â†’                        return { type: 'oral', question: `${ma} Ã— ${mb}`, answer: ma * mb, display: `${ma} Ã— ${mb} = ?` };\n  1155â†’                    } else {\n  1156â†’                        const ma = random(10, 99);\n  1157â†’                        const mb = random(10, difficulty === 'easy' ? 20 : 99);\n  1158â†’                        return { type: 'oral', question: `${ma} Ã— ${mb}`, answer: ma * mb, display: `${ma} Ã— ${mb} = ?` };\n  1159â†’                    }\n  1160â†’\n  1161â†’                case 'divide':\n  1162â†’                    let db, dans;\n  1163â†’                    if (grade === 3) {\n  1164â†’                        db = random(2, 9);\n  1165â†’                        dans = random(1, 12);\n  1166â†’                    } else {\n  1167â†’                        db = random(2, difficulty === 'easy' ? 9 : 20);\n  1168â†’                        dans = random(1, 50);\n  1169â†’                    }\n  1170â†’                    const da = db * dans;\n  1171â†’                    return { type: 'oral', question: `${da} Ã· ${db}`, answer: dans, display: `${da} Ã· ${db} = ?` };\n  1172â†’\n  1173â†’                default:\n  1174â†’                    return { type: 'oral', question: '2 + 3', answer: 5, display: '2 + 3 = ?' };\n  1175â†’            }\n  1176â†’        }\n  1177â†’\n  1178â†’        // ç”Ÿæˆç«–å¼é¢˜\n  1179â†’        function generateVerticalQuestion(grade, difficulty, operation) {\n  1180â†’            const { min, max } = getNumberRange(grade);\n  1181â†’\n  1182â†’            switch(operation) {\n  1183â†’                case 'add':\n  1184â†’                    let va1 = random(min, max);\n  1185â†’                    let vb1 = random(min, max);\n  1186â†’                    // ç¡®ä¿æ˜¯ä¸¤ä½æ•°æˆ–ä¸‰ä½æ•°ï¼Œé€‚åˆç«–å¼\n  1187â†’                    if (grade <= 3) {\n  1188â†’                        va1 = random(10, Math.min(99, max));\n  1189â†’                        vb1 = random(10, Math.min(99, max));\n  1190â†’                    } else {\n  1191â†’                        va1 = random(100, Math.min(999, max));\n  1192â†’                        vb1 = random(100, Math.min(999, max));\n  1193â†’                    }\n  1194â†’                    return {\n  1195â†’                        type: 'vertical',\n  1196â†’                        num1: va1,\n  1197â†’                        num2: vb1,\n  1198â†’                        operator: '+',\n  1199â†’                        answer: va1 + vb1,\n  1200â†’                        display: `${va1} + ${vb1}`\n  1201â†’                    };\n  1202â†’\n  1203â†’                case 'subtract':\n  1204â†’                    let vans = random(min, Math.floor(max * 0.7));\n  1205â†’                    let vb_sub = random(Math.floor(min * 0.5), vans);\n  1206â†’                    let va_sub = vans + vb_sub;\n  1207â†’                    if (grade <= 3) {\n  1208â†’                        vans = random(10, Math.min(99, max));\n  1209â†’                        vb_sub = random(10, vans);\n  1210â†’                        va_sub = vans + vb_sub;\n  1211â†’                    } else {\n  1212â†’                        vans = random(100, Math.min(999, max));\n  1213â†’                        vb_sub = random(100, vans);\n  1214â†’                        va_sub = vans + vb_sub;\n  1215â†’                    }\n  1216â†’                    return {\n  1217â†’                        type: 'vertical',\n  1218â†’                        num1: va_sub,\n  1219â†’                        num2: vb_sub,\n  1220â†’                        operator: '-',\n  1221â†’                        answer: vans,\n  1222â†’                        display: `${va_sub} - ${vb_sub}`\n  1223â†’                    };\n  1224â†’\n  1225â†’                case 'multiply':\n  1226â†’                    if (grade === 3) {\n  1227â†’                        const vma = random(11, 99);\n  1228â†’                        const vmb = random(2, 9);\n  1229â†’                        return {\n  1230â†’                            type: 'vertical',\n  1231â†’                            num1: vma,\n  1232â†’                            num2: vmb,\n  1233â†’                            operator: 'Ã—',\n  1234â†’                            answer: vma * vmb,\n  1235â†’                            display: `${vma} Ã— ${vmb}`\n  1236â†’                        };\n  1237â†’                    } else {\n  1238â†’                        const vma = random(11, 99);\n  1239â†’                        const vmb = random(11, difficulty === 'easy' ? 20 : 99);\n  1240â†’                        return {\n  1241â†’                            type: 'vertical',\n  1242â†’                            num1: vma,\n  1243â†’                            num2: vmb,\n  1244â†’                            operator: 'Ã—',\n  1245â†’                            answer: vma * vmb,\n  1246â†’                            display: `${vma} Ã— ${vmb}`\n  1247â†’                        };\n  1248â†’                    }\n  1249â†’\n  1250â†’                case 'divide':\n  1251â†’                    let vdb, vdans;\n  1252â†’                    if (grade === 3) {\n  1253â†’                        vdb = random(2, 9);\n  1254â†’                        vdans = random(10, 50);\n  1255â†’                    } else {\n  1256â†’                        vdb = random(2, 20);\n  1257â†’                        vdans = random(10, 100);\n  1258â†’                    }\n  1259â†’                    const vda = vdb * vdans;\n  1260â†’                    return {\n  1261â†’                        type: 'vertical',\n  1262â†’                        num1: vda,\n  1263â†’                        num2: vdb,\n  1264â†’                        operator: 'Ã·',\n  1265â†’                        answer: vdans,\n  1266â†’                        display: `${vda} Ã· ${vdb}`\n  1267â†’                    };\n  1268â†’\n  1269â†’                default:\n  1270â†’                    return {\n  1271â†’                        type: 'vertical',\n  1272â†’                        num1: 123,\n  1273â†’                        num2: 45,\n  1274â†’                        operator: '+',\n  1275â†’                        answer: 168,\n  1276â†’                        display: '123 + 45'\n  1277â†’                    };\n  1278â†’            }\n  1279â†’        }\n  1280â†’\n  1281â†’        // ç”Ÿæˆæ‰€æœ‰é¢˜ç›®\n  1282â†’        function generateQuestions() {\n  1283â†’            const grade = parseInt(document.getElementById('gradeSelect').value);\n  1284â†’            const difficulty = document.getElementById('difficultySelect').value;\n  1285â†’\n  1286â†’            const operationCheckboxes = document.querySelectorAll('.checkbox-item input[type=\"checkbox\"]:checked');\n  1287â†’            const operations = Array.from(operationCheckboxes).map(cb => cb.value).filter(op => ['add', 'subtract', 'multiply', 'divide'].includes(op));\n  1288â†’\n  1289â†’            if (operations.length === 0) {\n  1290â†’                showToast('è¯·è‡³å°‘é€‰æ‹©ä¸€ç§è¿ç®—ç±»å‹', 'error');\n  1291â†’                return false;\n  1292â†’            }\n  1293â†’\n  1294â†’            const oralChecked = document.getElementById('oralCheck').checked;\n  1295â†’            const verticalChecked = document.getElementById('verticalCheck').checked;\n  1296â†’\n  1297â†’            // éªŒè¯è‡³å°‘é€‰æ‹©ä¸€ç§é¢˜å‹\n  1298â†’            if (!oralChecked && !verticalChecked) {\n  1299â†’                showToast('âš ï¸ è¯·è‡³å°‘é€‰æ‹©ä¸€ç§é¢˜å‹ï¼ˆå£ç®—é¢˜æˆ–ç«–å¼é¢˜ï¼‰', 'error');\n  1300â†’                return false;\n  1301â†’            }\n  1302â†’\n  1303â†’            // éªŒè¯è¿ç®—ç±»å‹\n  1304â†’            if (operations.length === 0) {\n  1305â†’                showToast('âš ï¸ è¯·è‡³å°‘é€‰æ‹©ä¸€ç§è¿ç®—ç±»å‹ï¼ˆåŠ å‡ä¹˜é™¤ï¼‰', 'error');\n  1306â†’                return false;\n  1307â†’            }\n  1308â†’\n  1309â†’            questions = [];\n  1310â†’\n  1311â†’            // ç”Ÿæˆå£ç®—é¢˜\n  1312â†’            if (oralChecked) {\n  1313â†’                const oralCount = parseInt(document.getElementById('oralCount').value);\n  1314â†’                for (let i = 0; i < oralCount; i++) {\n  1315â†’                    const op = operations[random(0, operations.length - 1)];\n  1316â†’                    questions.push(generateOralQuestion(grade, difficulty, op));\n  1317â†’                }\n  1318â†’            }\n  1319â†’\n  1320â†’            // ç”Ÿæˆç«–å¼é¢˜\n  1321â†’            if (verticalChecked) {\n  1322â†’                const verticalCount = parseInt(document.getElementById('verticalCount').value);\n  1323â†’                for (let i = 0; i < verticalCount; i++) {\n  1324â†’                    const op = operations[random(0, operations.length - 1)];\n  1325â†’                    questions.push(generateVerticalQuestion(grade, difficulty, op));\n  1326â†’                }\n  1327â†’            }\n  1328â†’\n  1329â†’ // ä¸æ‰“ä¹±é¡ºåºï¼Œä¿æŒç¬¬ä¸€éƒ¨åˆ†å£ç®—ï¼Œç¬¬äºŒéƒ¨åˆ†ç«–å¼\n  1330â†’\n  1331â†’            // è®°å½•å„éƒ¨åˆ†çš„é¢˜ç›®æ•°é‡\n  1332â†’            const oralCount = oralChecked ? parseInt(document.getElementById('oralCount').value) : 0;\n  1333â†’            const verticalCount = verticalChecked ? parseInt(document.getElementById('verticalCount').value) : 0;\n  1334â†’\n  1335â†’            settings = { grade, difficulty, oralChecked, verticalChecked, oralCount, verticalCount };\n  1336â†’            return true;\n  1337â†’        }\n  1338â†’\n  1339â†’        // å¼€å§‹ç»ƒä¹ \n  1340â†’        function startPractice() {\n  1341â†’            if (!generateQuestions()) return;\n  1342â†’\n  1343â†’            currentQuestionIndex = 0;\n  1344â†’            correctCount = 0;\n  1345â†’            wrongAnswers = [];\n  1346â†’            streak = 0;\n  1347â†’\n  1348â†’            startTime = Date.now();\n  1349â†’            timerInterval = setInterval(updateTimer, 1000);\n  1350â†’\n  1351â†’            showQuestion();\n  1352â†’            showSection('practiceSection');\n  1353â†’            focusInput();\n  1354â†’        }\n  1355â†’\n  1356â†’        // è®¡æ—¶æµ‹è¯•\n  1357â†’        function startTimedTest() {\n  1358â†’            startPractice();\n  1359â†’        }\n  1360â†’\n  1361â†’        // è·å–å½“å‰éƒ¨åˆ†ä¿¡æ¯\n  1362â†’        function getSectionInfo() {\n  1363â†’            const oralCount = settings.oralCount || 0;\n  1364â†’            const verticalCount = settings.verticalCount || 0;\n  1365â†’\n  1366â†’            if (currentQuestionIndex < oralCount) {\n  1367â†’                return {\n  1368â†’                    section: 'ç¬¬ä¸€éƒ¨åˆ†',\n  1369â†’                    sectionName: 'å£ç®—é¢˜',\n  1370â†’                    current: currentQuestionIndex + 1,\n  1371â†’                    total: oralCount,\n  1372â†’                    globalIndex: currentQuestionIndex + 1\n  1373â†’                };\n  1374â†’            } else {\n  1375â†’                return {\n  1376â†’                    section: 'ç¬¬äºŒéƒ¨åˆ†',\n  1377â†’                    sectionName: 'ç«–å¼é¢˜',\n  1378â†’                    current: currentQuestionIndex - oralCount + 1,\n  1379â†’                    total: verticalCount,\n  1380â†’                    globalIndex: currentQuestionIndex + 1\n  1381â†’                };\n  1382â†’            }\n  1383â†’        }\n  1384â†’\n  1385â†’        // æ˜¾ç¤ºé¢˜ç›®\n  1386â†’        function showQuestion() {\n  1387â†’            const q = questions[currentQuestionIndex];\n  1388â†’            const sectionInfo = getSectionInfo();\n  1389â†’\n  1390â†’            // æ˜¾ç¤ºéƒ¨åˆ†ä¿¡æ¯\n  1391â†’            document.getElementById('currentQ').textContent = sectionInfo.globalIndex;\n  1392â†’            document.getElementById('totalQ').textContent = questions.length;\n  1393â†’            document.getElementById('sectionInfo').textContent = `${sectionInfo.section} - ç¬¬${sectionInfo.current}/${sectionInfo.total}é¢˜`;\n  1394â†’\n  1395â†’            const progress = ((currentQuestionIndex) / questions.length) * 100;\n  1396â†’            document.getElementById('progressFill').style.width = progress + '%';\n  1397â†’\n  1398â†’            // æ£€æŸ¥æ˜¯å¦åˆšåˆšåˆ‡æ¢åˆ°æ–°éƒ¨åˆ†ï¼Œæ˜¾ç¤ºæç¤º\n  1399â†’            if (currentQuestionIndex > 0) {\n  1400â†’                const prevQ = questions[currentQuestionIndex - 1];\n  1401â†’                if (prevQ.type !== q.type) {\n  1402â†’                    showToast(`ğŸ¯ è¿›å…¥${sectionInfo.section}ï¼š${sectionInfo.sectionName}`, 'success');\n  1403â†’                }\n  1404â†’            }\n  1405â†’\n  1406â†’            if (q.type === 'oral') {\n  1407â†’                // æ˜¾ç¤ºå£ç®—é¢˜\n  1408â†’                document.getElementById('oralQuestionArea').style.display = 'block';\n  1409â†’                document.getElementById('verticalQuestionArea').style.display = 'none';\n  1410â†’                document.getElementById('questionText').textContent = q.display;\n  1411â†’                document.getElementById('answerInput').value = '';\n  1412â†’                document.getElementById('questionTypeBadge').className = 'question-type-badge type-oral';\n  1413â†’                document.getElementById('questionTypeBadge').textContent = 'ğŸ“ ç¬¬ä¸€éƒ¨åˆ† å£ç®—é¢˜';\n  1414â†’            } else {\n  1415â†’                // æ˜¾ç¤ºç«–å¼é¢˜\n  1416â†’                document.getElementById('oralQuestionArea').style.display = 'none';\n  1417â†’                document.getElementById('verticalQuestionArea').style.display = 'block';\n  1418â†’                document.getElementById('verticalNum1').textContent = q.num1;\n  1419â†’                document.getElementById('verticalNum2').textContent = q.num2;\n  1420â†’                document.getElementById('verticalOperator').textContent = q.operator;\n  1421â†’                document.getElementById('verticalAnswerInput').value = '';\n  1422â†’                document.getElementById('verticalHorizontalDisplay').textContent = `${q.display} = ?`;\n  1423â†’                document.getElementById('questionTypeBadge').className = 'question-type-badge type-vertical';\n  1424â†’                document.getElementById('questionTypeBadge').textContent = 'âœï¸ ç¬¬äºŒéƒ¨åˆ† ç«–å¼é¢˜';\n  1425â†’            }\n  1426â†’\n  1427â†’            focusInput();\n  1428â†’        }\n  1429â†’\n  1430â†’        // èšç„¦è¾“å…¥æ¡†\n  1431â†’        function focusInput() {\n  1432â†’            setTimeout(() => {\n  1433â†’                const q = questions[currentQuestionIndex];\n  1434â†’                if (q.type === 'oral') {\n  1435â†’                    document.getElementById('answerInput').focus();\n  1436â†’                } else {\n  1437â†’                    document.getElementById('verticalAnswerInput').focus();\n  1438â†’                }\n  1439â†’            }, 100);\n  1440â†’        }\n  1441â†’\n  1442â†’        // æ›´æ–°è®¡æ—¶å™¨\n  1443â†’        function updateTimer() {\n  1444â†’            const elapsed = Math.floor((Date.now() - startTime) / 1000);\n  1445â†’            document.getElementById('timer').textContent = formatTime(elapsed);\n  1446â†’        }\n  1447â†’\n  1448â†’        // æäº¤ç­”æ¡ˆ\n  1449â†’        function submitAnswer() {\n  1450â†’            const q = questions[currentQuestionIndex];\n  1451â†’            let userAnswer;\n  1452â†’\n  1453â†’            if (q.type === 'oral') {\n  1454â†’                userAnswer = parseInt(document.getElementById('answerInput').value);\n  1455â†’            } else {\n  1456â†’                userAnswer = parseInt(document.getElementById('verticalAnswerInput').value);\n  1457â†’            }\n  1458â†’\n  1459â†’            if (isNaN(userAnswer)) {\n  1460â†’                showToast('è¯·è¾“å…¥ç­”æ¡ˆ', 'error');\n  1461â†’                return;\n  1462â†’            }\n  1463â†’\n  1464â†’            const isCorrect = userAnswer === q.answer;\n  1465â†’\n  1466â†’            if (isCorrect) {\n  1467â†’                correctCount++;\n  1468â†’                streak++;\n  1469â†’                showToast('âœ… æ­£ç¡®ï¼', 'success');\n  1470â†’            } else {\n  1471â†’                wrongAnswers.push({\n  1472â†’                    question: q.display,\n  1473â†’                    correctAnswer: q.answer,\n  1474â†’                    userAnswer: userAnswer,\n  1475â†’                    type: q.type\n  1476â†’                });\n  1477â†’                streak = 0;\n  1478â†’                showToast('âŒ é”™è¯¯ï¼', 'error');\n  1479â†’            }\n  1480â†’\n  1481â†’            currentQuestionIndex++;\n  1482â†’\n  1483â†’            if (currentQuestionIndex >= questions.length) {\n  1484â†’                showResult();\n  1485â†’            } else {\n  1486â†’                showQuestion();\n  1487â†’            }\n  1488â†’        }\n  1489â†’\n  1490â†’        // è·³è¿‡é¢˜ç›®\n  1491â†’        function skipQuestion() {\n  1492â†’            const q = questions[currentQuestionIndex];\n  1493â†’            wrongAnswers.push({\n  1494â†’                question: q.display,\n  1495â†’                correctAnswer: q.answer,\n  1496â†’                userAnswer: 'è·³è¿‡',\n  1497â†’                type: q.type\n  1498â†’            });\n  1499â†’\n  1500â†’            currentQuestionIndex++;\n  1501â†’\n  1502â†’            if (currentQuestionIndex >= questions.length) {\n  1503â†’                showResult();\n  1504â†’            } else {\n  1505â†’                showQuestion();\n  1506â†’            }\n  1507â†’        }\n  1508â†’\n  1509â†’        // æ˜¾ç¤ºç»“æœ\n  1510â†’        function showResult() {\n  1511â†’            clearInterval(timerInterval);\n  1512â†’\n  1513â†’            const totalTime = Math.floor((Date.now() - startTime) / 1000);\n  1514â†’            const accuracy = Math.round((correctCount / questions.length) * 100);\n  1515â†’\n  1516â†’            document.getElementById('finalScore').textContent = accuracy;\n  1517â†’            document.getElementById('resultTotal').textContent = questions.length;\n  1518â†’            document.getElementById('resultCorrect').textContent = correctCount;\n  1519â†’            document.getElementById('resultWrong').textContent = questions.length - correctCount;\n  1520â†’            document.getElementById('resultTime').textContent = formatTime(totalTime);\n  1521â†’\n  1522â†’            // è®¡ç®—å„éƒ¨åˆ†æˆç»©\n  1523â†’            const oralCount = settings.oralCount || 0;\n  1524â†’            const verticalCount = settings.verticalCount || 0;\n  1525â†’\n  1526â†’            let oralCorrect = 0;\n  1527â†’            let verticalCorrect = 0;\n  1528â†’\n  1529â†’            wrongAnswers.forEach(w => {\n  1530â†’                if (w.type === 'oral') {\n  1531â†’                    // é”™é¢˜\n  1532â†’                } else {\n  1533â†’                    // é”™é¢˜\n  1534â†’                }\n  1535â†’            });\n  1536â†’\n  1537â†’            // ç»Ÿè®¡å„éƒ¨åˆ†æ­£ç¡®æ•°\n  1538â†’            for (let i = 0; i < oralCount; i++) {\n  1539â†’                const q = questions[i];\n  1540â†’                const isWrong = wrongAnswers.some(w => w.question === q.display);\n  1541â†’                if (!isWrong) oralCorrect++;\n  1542â†’            }\n  1543â†’\n  1544â†’            for (let i = 0; i < verticalCount; i++) {\n  1545â†’                const q = questions[oralCount + i];\n  1546â†’                if (q) {\n  1547â†’                    const isWrong = wrongAnswers.some(w => w.question === q.display);\n  1548â†’                    if (!isWrong) verticalCorrect++;\n  1549â†’                }\n  1550â†’            }\n  1551â†’\n  1552â†’            // æ˜¾ç¤ºå„éƒ¨åˆ†æˆç»©\n  1553â†’            let sectionStatsHTML = '<div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;\">';\n  1554â†’\n  1555â†’            if (oralCount > 0) {\n  1556â†’                const oralAccuracy = oralCount > 0 ? Math.round((oralCorrect / oralCount) * 100) : 0;\n  1557â†’                sectionStatsHTML += `\n  1558â†’                    <div style=\"padding: 10px; background: white; border-radius: 8px; border-left: 3px solid var(--primary-color);\">\n  1559â†’                        <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜</div>\n  1560â†’                        <div style=\"font-size: 1.2rem; font-weight: bold; color: var(--primary-color);\">${oralCorrect}/${oralCount}</div>\n  1561â†’                        <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">æ­£ç¡®ç‡ï¼š${oralAccuracy}%</div>\n  1562â†’                    </div>\n  1563â†’                `;\n  1564â†’            }\n  1565â†’\n  1566â†’            if (verticalCount > 0) {\n  1567â†’                const verticalAccuracy = verticalCount > 0 ? Math.round((verticalCorrect / verticalCount) * 100) : 0;\n  1568â†’                sectionStatsHTML += `\n  1569â†’                    <div style=\"padding: 10px; background: white; border-radius: 8px; border-left: 3px solid var(--secondary-color);\">\n  1570â†’                        <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜</div>\n  1571â†’                        <div style=\"font-size: 1.2rem; font-weight: bold; color: var(--secondary-color);\">${verticalCorrect}/${verticalCount}</div>\n  1572â†’                        <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">æ­£ç¡®ç‡ï¼š${verticalAccuracy}%</div>\n  1573â†’                    </div>\n  1574â†’                `;\n  1575â†’            }\n  1576â†’\n  1577â†’            sectionStatsHTML += '</div>';\n  1578â†’            document.getElementById('sectionStatsContent').innerHTML = sectionStatsHTML;\n  1579â†’            document.getElementById('sectionStats').style.display = oralCount > 0 && verticalCount > 0 ? 'block' : 'none';\n  1580â†’\n  1581â†’            // è¯„ä»·\n  1582â†’            let title = '';\n  1583â†’            if (accuracy >= 95) title = 'ğŸ† å¤ªæ£’äº†ï¼';\n  1584â†’            else if (accuracy >= 85) title = 'ğŸ‰ å¾ˆä¼˜ç§€ï¼';\n  1585â†’            else if (accuracy >= 70) title = 'ğŸ‘ ç»§ç»­åŠ æ²¹ï¼';\n  1586â†’            else if (accuracy >= 60) title = 'ğŸ’ª éœ€è¦åŠªåŠ›ï¼';\n  1587â†’            else title = 'ğŸ“š å¤šå¤šç»ƒä¹ ï¼';\n  1588â†’\n  1589â†’            document.getElementById('resultTitle').textContent = title;\n  1590â†’\n  1591â†’            // æ˜¾ç¤ºé”™é¢˜\n  1592â†’            if (wrongAnswers.length > 0) {\n  1593â†’                document.getElementById('wrongAnswersSection').style.display = 'block';\n  1594â†’                document.getElementById('wrongAnswersList').innerHTML = wrongAnswers.map(w => `\n  1595â†’                    <div class=\"wrong-item\">\n  1596â†’                        <div class=\"wrong-question\">\n  1597â†’                            <span style=\"font-size: 0.85rem; padding: 3px 8px; border-radius: 4px; margin-right: 8px; ${w.type === 'oral' ? 'background: #dbeafe; color: #1e40af;' : 'background: #fce7f3; color: #9d174d;'}\">${w.type === 'oral' ? 'å£ç®—' : 'ç«–å¼'}</span>\n  1598â†’                            ${w.question}\n  1599â†’                        </div>\n  1600â†’                        <div class=\"wrong-answer-info\">\n  1601â†’                            æ­£ç¡®ç­”æ¡ˆï¼š<span style=\"color: var(--success-color); font-weight: 600;\">${w.correctAnswer}</span>\n  1602â†’                            ä½ çš„ç­”æ¡ˆï¼š<span style=\"color: var(--danger-color);\">${w.userAnswer}</span>\n  1603â†’                        </div>\n  1604â†’                    </div>\n  1605â†’                `).join('');\n  1606â†’            } else {\n  1607â†’                document.getElementById('wrongAnswersSection').style.display = 'none';\n  1608â†’            }\n  1609â†’\n  1610â†’            // ä¿å­˜è®°å½•\n  1611â†’            saveHistory(accuracy, totalTime);\n  1612â†’\n  1613â†’            showSection('resultSection');\n  1614â†’        }\n  1615â†’\n  1616â†’        // é‡æ–°ç»ƒä¹ \n  1617â†’        function restart() {\n  1618â†’            startPractice();\n  1619â†’        }\n  1620â†’\n  1621â†’        // é‡ç»ƒé”™é¢˜\n  1622â†’        function practiceWrong() {\n  1623â†’            if (wrongAnswers.length === 0) {\n  1624â†’                showToast('æ²¡æœ‰é”™é¢˜éœ€è¦é‡ç»ƒ', 'error');\n  1625â†’                return;\n  1626â†’            }\n  1627â†’\n  1628â†’            questions = wrongAnswers.map(w => {\n  1629â†’                if (w.type === 'oral') {\n  1630â†’                    return {\n  1631â†’                        type: 'oral',\n  1632â†’                        question: w.question,\n  1633â†’                        answer: w.correctAnswer,\n  1634â†’                        display: w.question\n  1635â†’                    };\n  1636â†’                } else {\n  1637â†’                    // ä» display è§£æç«–å¼é¢˜\n  1638â†’                    const parts = w.question.split(' ');\n  1639â†’                    const num1 = parseInt(parts[0]);\n  1640â†’                    const operator = parts[1];\n  1641â†’                    const num2 = parseInt(parts[2]);\n  1642â†’                    return {\n  1643â†’                        type: 'vertical',\n  1644â†’                        num1: num1,\n  1645â†’                        num2: num2,\n  1646â†’                        operator: operator,\n  1647â†’                        answer: w.correctAnswer,\n  1648â†’                        display: w.question\n  1649â†’                    };\n  1650â†’                }\n  1651â†’            });\n  1652â†’\n  1653â†’            currentQuestionIndex = 0;\n  1654â†’            correctCount = 0;\n  1655â†’            wrongAnswers = [];\n  1656â†’            streak = 0;\n  1657â†’\n  1658â†’            startTime = Date.now();\n  1659â†’            timerInterval = setInterval(updateTimer, 1000);\n  1660â†’\n  1661â†’            showQuestion();\n  1662â†’            showSection('practiceSection');\n  1663â†’        }\n  1664â†’\n  1665â†’        // è¿”å›ä¸»é¡µ\n  1666â†’        function goHome() {\n  1667â†’            clearInterval(timerInterval);\n  1668â†’            loadStats();\n  1669â†’            showSection('homeSection');\n  1670â†’        }\n  1671â†’\n  1672â†’        // æ˜¾ç¤ºæ‰“å°è®¾ç½®å¯¹è¯æ¡†\n  1673â†’        function showPrintDialog() {\n  1674â†’            document.getElementById('printDialog').style.display = 'flex';\n  1675â†’        }\n  1676â†’\n  1677â†’        // å…³é—­æ‰“å°è®¾ç½®å¯¹è¯æ¡†\n  1678â†’        function closePrintDialog() {\n  1679â†’            document.getElementById('printDialog').style.display = 'none';\n  1680â†’        }\n  1681â†’\n  1682â†’        // ç¡®è®¤ç”Ÿæˆè¯•å·\n  1683â†’        function confirmGeneratePrint() {\n  1684â†’            const copies = parseInt(document.getElementById('printCopies').value);\n  1685â†’            const sameQuestions = document.getElementById('sameQuestions').checked;\n  1686â†’\n  1687â†’            closePrintDialog();\n  1688â†’            generatePrint(copies, sameQuestions);\n  1689â†’        }\n  1690â†’\n  1691â†’        // ç”Ÿæˆæ‰“å°è¯•å·\n  1692â†’        function generatePrint(copies = 1, sameQuestions = true) {\n  1693â†’            const printContent = document.getElementById('printContent');\n  1694â†’            let html = '';\n  1695â†’\n  1696â†’            // ä¿å­˜åŸå§‹è®¾ç½®\n  1697â†’            const originalSettings = {...settings};\n  1698â†’\n  1699â†’            for (let copyIndex = 0; copyIndex < copies; copyIndex++) {\n  1700â†’                // å¦‚æœä¸æ˜¯ä½¿ç”¨ç›¸åŒé¢˜ç›®ï¼Œåˆ™é‡æ–°ç”Ÿæˆé¢˜ç›®\n  1701â†’                if (!sameQuestions && copyIndex > 0) {\n  1702â†’                    // é‡æ–°ç”Ÿæˆé¢˜ç›®\n  1703â†’                    const oralChecked = originalSettings.oralChecked;\n  1704â†’                    const verticalChecked = originalSettings.verticalChecked;\n  1705â†’                    const grade = originalSettings.grade;\n  1706â†’                    const difficulty = originalSettings.difficulty;\n  1707â†’\n  1708â†’                    const operationCheckboxes = document.querySelectorAll('.checkbox-item input[type=\"checkbox\"]:checked');\n  1709â†’                    const operations = Array.from(operationCheckboxes).map(cb => cb.value).filter(op => ['add', 'subtract', 'multiply', 'divide'].includes(op));\n  1710â†’\n  1711â†’                    questions = [];\n  1712â†’\n  1713â†’                    if (oralChecked) {\n  1714â†’                        const oralCount = originalSettings.oralCount || 0;\n  1715â†’                        for (let i = 0; i < oralCount; i++) {\n  1716â†’                            const op = operations[random(0, operations.length - 1)];\n  1717â†’                            questions.push(generateOralQuestion(grade, difficulty, op));\n  1718â†’                        }\n  1719â†’                    }\n  1720â†’\n  1721â†’                    if (verticalChecked) {\n  1722â†’                        const verticalCount = originalSettings.verticalCount || 0;\n  1723â†’                        for (let i = 0; i < verticalCount; i++) {\n  1724â†’                            const op = operations[random(0, operations.length - 1)];\n  1725â†’                            questions.push(generateVerticalQuestion(grade, difficulty, op));\n  1726â†’                        }\n  1727â†’                    }\n  1728â†’                } else if (copyIndex > 0) {\n  1729â†’                    // ä½¿ç”¨ç›¸åŒé¢˜ç›®ï¼Œä¸éœ€è¦é‡æ–°ç”Ÿæˆ\n  1730â†’                } else {\n  1731â†’                    // ç¬¬ä¸€ä»½ï¼Œéœ€è¦å…ˆç”Ÿæˆé¢˜ç›®\n  1732â†’                    if (!generateQuestions()) {\n  1733â†’                        showToast('âš ï¸ ç”Ÿæˆè¯•å·å¤±è´¥ï¼Œè¯·æ£€æŸ¥è®¾ç½®', 'error');\n  1734â†’                        return;\n  1735â†’                    }\n  1736â†’                }\n  1737â†’\n  1738â†’                const oralCount = settings.oralCount || 0;\n  1739â†’                const verticalCount = settings.verticalCount || 0;\n  1740â†’\n  1741â†’                // æ¯ä»½è¯•å·ç”¨ä¸€ä¸ªwrapperåŒ…è£¹ï¼Œé¿å…å†…éƒ¨å…ƒç´ è¢«åˆ†é¡µè§„åˆ™å½±å“\n  1742â†’                html += '<div class=\"print-copy-wrapper\">';\n  1743â†’\n  1744â†’                // æ¯ä»½è¯•å·éƒ½æ·»åŠ æŠ¬å¤´\n  1745â†’                html += '<div class=\"print-header\">';\n  1746â†’                html += '<h1>å°å­¦æ•°å­¦ç»ƒä¹ é¢˜</h1>';\n  1747â†’                html += '</div>';\n  1748â†’                html += '<div class=\"print-info\">';\n  1749â†’                html += '<div>å§“åï¼š__________</div>';\n  1750â†’                html += '<div>æ—¥æœŸï¼š__________</div>';\n  1751â†’                html += '<div>ç”¨æ—¶ï¼š__________</div>';\n  1752â†’                html += '<div>å¾—åˆ†ï¼š__________</div>';\n  1753â†’                html += '</div>';\n  1754â†’\n  1755â†’                // æ‰“å°å£ç®—é¢˜ï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰\n  1756â†’                if (oralCount > 0) {\n  1757â†’                    html += '<div class=\"print-section\">';\n  1758â†’                    // æ ¹æ®æ˜¯å¦æœ‰ç«–å¼é¢˜å†³å®šæ ‡é¢˜\n  1759â†’                    const oralTitle = verticalCount > 0 ? 'ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜' : 'å£ç®—é¢˜';\n  1760â†’                    html += '<div class=\"print-section-title\">' + oralTitle + 'ï¼ˆæ¯é¢˜2åˆ†ï¼Œå…±' + (oralCount * 2) + 'åˆ†ï¼‰</div>';\n  1761â†’                    html += '<div style=\"display: flex; flex-wrap: wrap; align-items: center;\">';\n  1762â†’\n  1763â†’                    for (let i = 0; i < oralCount; i++) {\n  1764â†’                        const q = questions[i];\n  1765â†’                        const questionText = q.question.toString();\n  1766â†’                        html += `\n  1767â†’                            <div class=\"print-oral\">${questionText}&nbsp;=&nbsp;____</div>\n  1768â†’                        `;\n  1769â†’                    }\n  1770â†’\n  1771â†’                    html += '</div></div>';\n  1772â†’                }\n  1773â†’\n  1774â†’                // æ‰“å°ç«–å¼é¢˜ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰- åŒ…å«æ¨ªå¼å’Œç«–å¼\n  1775â†’                if (verticalCount > 0) {\n  1776â†’                    html += '<div class=\"print-section\">';\n  1777â†’                    const verticalTitle = oralCount > 0 ? 'ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜' : 'ç«–å¼é¢˜';\n  1778â†’                    html += '<div class=\"print-section-title\">' + verticalTitle + 'ï¼ˆç”¨ç«–å¼è®¡ç®—ï¼Œæ¯é¢˜2åˆ†ï¼Œå…±' + (verticalCount * 2) + 'åˆ†ï¼‰</div>';\n  1779â†’                    html += '<div style=\"display: flex; flex-wrap: wrap;\">';\n  1780â†’\n  1781â†’                    for (let i = 0; i < verticalCount; i++) {\n  1782â†’                        const q = questions[oralCount + i];\n  1783â†’                        const num1Str = q.num1.toString();\n  1784â†’                        const num2Str = q.num2.toString();\n  1785â†’                        const maxLength = Math.max(num1Str.length, num2Str.length);\n  1786â†’\n  1787â†’                        html += `\n  1788â†’                            <div class=\"print-vertical\">\n  1789â†’                                <div class=\"print-vertical-horizontal\">${q.display}&nbsp;=&nbsp;____</div>\n  1790â†’                                <div class=\"print-vertical-calculation\">\n  1791â†’                                    <div class=\"print-vertical-numbers\">\n  1792â†’                                        <div>${'&nbsp;'.repeat(maxLength - num1Str.length)}${num1Str}</div>\n  1793â†’                                        <div>${q.operator}&nbsp;${'&nbsp;'.repeat(maxLength - num2Str.length)}${num2Str}</div>\n  1794â†’                                    </div>\n  1795â†’                                    <div class=\"print-vertical-line\"></div>\n  1796â†’                                    <div class=\"print-vertical-answer\"></div>\n  1797â†’                                </div>\n  1798â†’                            </div>\n  1799â†’                        `;\n  1800â†’                    }\n  1801â†’\n  1802â†’                    html += '</div></div>';\n  1803â†’                }\n  1804â†’\n  1805â†’                html += '</div>'; // ç»“æŸ print-copy-wrapper\n  1806â†’            }\n  1807â†’\n  1808â†’            // æ¢å¤åŸå§‹è®¾ç½®\n  1809â†’            settings = originalSettings;\n  1810â†’\n  1811â†’            printContent.innerHTML = html;\n  1812â†’\n  1813â†’            // æ˜¾ç¤ºæç¤º\n  1814â†’            if (copies > 1) {\n  1815â†’                showToast(`âœ… å·²ç”Ÿæˆ${copies}ä»½è¯•å·ï¼Œå‡†å¤‡æ‰“å°...`, 'success');\n  1816â†’                setTimeout(() => {\n  1817â†’                    window.print();\n  1818â†’                }, 500);\n  1819â†’            } else {\n  1820â†’                window.print();\n  1821â†’            }\n  1822â†’        }\n  1823â†’\n  1824â†’        // ä¿å­˜å†å²è®°å½•\n  1825â†’        function saveHistory(accuracy, time) {\n  1826â†’            const history = JSON.parse(localStorage.getItem('mathPracticeHistory') || '[]');\n  1827â†’\n  1828â†’            history.unshift({\n  1829â†’                date: new Date().toLocaleString('zh-CN'),\n  1830â†’                grade: settings.grade,\n  1831â†’                difficulty: settings.difficulty,\n  1832â†’                count: questions.length,\n  1833â†’                correct: correctCount,\n  1834â†’                total: questions.length,\n  1835â†’                accuracy: accuracy,\n  1836â†’                time: time,\n  1837â†’                types: settings.oralChecked && settings.verticalChecked ? 'æ··åˆ' : (settings.oralChecked ? 'å£ç®—' : 'ç«–å¼')\n  1838â†’            });\n  1839â†’\n  1840â†’            if (history.length > 50) history.pop();\n  1841â†’\n  1842â†’            localStorage.setItem('mathPracticeHistory', JSON.stringify(history));\n  1843â†’            loadStats();\n  1844â†’        }\n  1845â†’\n  1846â†’        // åŠ è½½å†å²è®°å½•\n  1847â†’        function loadHistory() {\n  1848â†’            const history = JSON.parse(localStorage.getItem('mathPracticeHistory') || '[]');\n  1849â†’            const historyList = document.getElementById('historyList');\n  1850â†’\n  1851â†’            if (history.length === 0) {\n  1852â†’                historyList.innerHTML = '<p style=\"text-align: center; color: var(--text-secondary); padding: 40px;\">æš‚æ— ç»ƒä¹ è®°å½•</p>';\n  1853â†’                return;\n  1854â†’            }\n  1855â†’\n  1856â†’            historyList.innerHTML = history.map((h, i) => `\n  1857â†’                <div class=\"history-item\">\n  1858â†’                    <div class=\"history-date\">${h.date} | ${h.types || 'æ··åˆ'}</div>\n  1859â†’                    <div class=\"history-stats\">\n  1860â†’                        <span>æ­£ç¡®ç‡ï¼š${h.accuracy}%</span>\n  1861â†’                        <span>é¢˜ç›®ï¼š${h.correct}/${h.total}</span>\n  1862â†’                        <span>ç”¨æ—¶ï¼š${formatTime(h.time)}</span>\n  1863â†’                    </div>\n  1864â†’                </div>\n  1865â†’            `).join('');\n  1866â†’        }\n  1867â†’\n  1868â†’        // æ˜¾ç¤ºå†å²è®°å½•\n  1869â†’        function showHistory() {\n  1870â†’            loadHistory();\n  1871â†’            showSection('historySection');\n  1872â†’        }\n  1873â†’\n  1874â†’        // æ¸…ç©ºå†å²è®°å½•\n  1875â†’        function clearHistory() {\n  1876â†’            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç»ƒä¹ è®°å½•å—ï¼Ÿ')) {\n  1877â†’                localStorage.removeItem('mathPracticeHistory');\n  1878â†’                loadHistory();\n  1879â†’                loadStats();\n  1880â†’                showToast('è®°å½•å·²æ¸…ç©º');\n  1881â†’            }\n  1882â†’        }\n  1883â†’\n  1884â†’        // åŠ è½½ç»Ÿè®¡æ•°æ®\n  1885â†’        function loadStats() {\n  1886â†’            const history = JSON.parse(localStorage.getItem('mathPracticeHistory') || '[]');\n  1887â†’\n  1888â†’            const today = new Date().toDateString();\n  1889â†’            const todayCount = history.filter(h => new Date(h.date).toDateString() === today).length;\n  1890â†’            document.getElementById('todayCount').textContent = todayCount;\n  1891â†’\n  1892â†’            if (history.length > 0) {\n  1893â†’                const avgAcc = Math.round(history.reduce((sum, h) => sum + h.accuracy, 0) / history.length);\n  1894â†’                document.getElementById('avgAccuracy').textContent = avgAcc + '%';\n  1895â†’            }\n  1896â†’\n  1897â†’            const totalQuestions = history.reduce((sum, h) => sum + h.total, 0);\n  1898â†’            document.getElementById('totalQuestions').textContent = totalQuestions;\n  1899â†’\n  1900â†’            const bestStreak = parseInt(localStorage.getItem('mathPracticeBestStreak') || '0');\n  1901â†’            document.getElementById('bestStreak').textContent = bestStreak;\n  1902â†’        }\n  1903â†’\n  1904â†’        // è¯»é¢˜\n  1905â†’        function readQuestion() {\n  1906â†’            const q = questions[currentQuestionIndex];\n  1907â†’            let text;\n  1908â†’\n  1909â†’            if (q.type === 'oral') {\n  1910â†’                text = q.question.replace('Ã—', 'ä¹˜ä»¥').replace('Ã·', 'é™¤ä»¥').replace('+', 'åŠ ').replace('-', 'å‡');\n  1911â†’                text += 'ç­‰äºå‡ ';\n  1912â†’            } else {\n  1913â†’                text = `${q.num1} ${q.operator === '+' ? 'åŠ ' : q.operator === '-' ? 'å‡' : q.operator === 'Ã—' ? 'ä¹˜ä»¥' : 'é™¤ä»¥'} ${q.num2}ï¼Œç«–å¼è®¡ç®—`;\n  1914â†’            }\n  1915â†’\n  1916â†’            if ('speechSynthesis' in window) {\n  1917â†’                const utterance = new SpeechSynthesisUtterance(text);\n  1918â†’                utterance.lang = 'zh-CN';\n  1919â†’                utterance.rate = 0.8;\n  1920â†’                speechSynthesis.speak(utterance);\n  1921â†’            } else {\n  1922â†’                showToast('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åŠŸèƒ½', 'error');\n  1923â†’            }\n  1924â†’        }\n  1925â†’\n  1926â†’        // é”®ç›˜äº‹ä»¶\n  1927â†’        function handleKeyPress(event) {\n  1928â†’            if (event.key === 'Enter') {\n  1929â†’                submitAnswer();\n  1930â†’            }\n  1931â†’        }\n  1932â†’    </script>\n  1933â†’</body>\n  1934â†’</html>\n  1935â†’\n\n<system-reminder>\nWhenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.\n</system-reminder>\n"
        },
        {
          "id": "call_py2s14e5hwg",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                          <label style=\"font-size: 0.95rem; color: var(--primary-color); font-weight: 600;\">ğŸ“ ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜</label>",
            "new_string": "                          <label style=\"font-size: 0.95rem; color: var(--primary-color); font-weight: 600;\">ğŸ“ å£ç®—é¢˜</label>"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_8utoo6pnrjo",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                          <label style=\"font-size: 0.95rem; color: var(--secondary-color); font-weight: 600;\">âœï¸ ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜</label>",
            "new_string": "                          <label style=\"font-size: 0.95rem; color: var(--secondary-color); font-weight: 600;\">âœï¸ ç«–å¼é¢˜</label>"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_q6qbz2ygudq",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                      <span id=\"questionTypeBadge\" class=\"question-type-badge type-oral\">ç¬¬ä¸€éƒ¨åˆ† å£ç®—é¢˜</span>",
            "new_string": "                      <span id=\"questionTypeBadge\" class=\"question-type-badge type-oral\">å£ç®—é¢˜</span>"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_ig0hrp8f5v",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                      <div style=\"font-size: 1.1rem; font-weight: 600; margin-top: 10px; color: var(--text-secondary);\" id=\"sectionInfo\">ç¬¬ä¸€éƒ¨åˆ† - ç¬¬1/10é¢˜</div>",
            "new_string": "                      <div style=\"font-size: 1.1rem; font-weight: 600; margin-top: 10px; color: var(--text-secondary);\" id=\"sectionInfo\">ç¬¬1/10é¢˜</div>"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_6qhu1q5xkvw",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "              document.getElementById('questionTypeBadge').textContent = 'ğŸ“ ç¬¬ä¸€éƒ¨åˆ† å£ç®—é¢˜';",
            "new_string": "              document.getElementById('questionTypeBadge').textContent = 'ğŸ“ å£ç®—é¢˜';"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_aid7to9ycgk",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "            document.getElementById('questionTypeBadge').textContent = 'âœï¸ ç¬¬äºŒéƒ¨åˆ† ç«–å¼é¢˜';",
            "new_string": "            document.getElementById('questionTypeBadge').textContent = 'âœï¸ ç«–å¼é¢˜';"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_ien0nsuu9a",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                  section: 'ç¬¬ä¸€éƒ¨åˆ†',",
            "new_string": "                  section: 'å£ç®—é¢˜',"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_j4wpqonoe7",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                  section: 'ç¬¬äºŒéƒ¨åˆ†',",
            "new_string": "                  section: 'ç«–å¼é¢˜',"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_mlbum781de",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "          document.getElementById('sectionInfo').textContent = `${sectionInfo.section} - ç¬¬${sectionInfo.current}/${sectionInfo.total}é¢˜`;",
            "new_string": "          document.getElementById('sectionInfo').textContent = `ç¬¬${sectionInfo.current}/${sectionInfo.total}é¢˜`;"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_l2jy6t5nip",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                      <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜</div>",
            "new_string": "                      <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">å£ç®—é¢˜</div>"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_0pmrwfbh9usi",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                      <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜</div>",
            "new_string": "                      <div style=\"font-size: 0.85rem; color: var(--text-secondary);\">ç«–å¼é¢˜</div>"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_8qs8mzt6i5",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                  const oralTitle = verticalCount > 0 ? 'ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜' : 'å£ç®—é¢˜';",
            "new_string": "                  const oralTitle = 'å£ç®—é¢˜';"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_ljicmgtljz",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "                  const verticalTitle = oralCount > 0 ? 'ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜' : 'ç«–å¼é¢˜';",
            "new_string": "                  const verticalTitle = 'ç«–å¼é¢˜';"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_fgqk5fpo0q",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "// ä¸æ‰“ä¹±é¡ºåºï¼Œä¿æŒç¬¬ä¸€éƒ¨åˆ†å£ç®—ï¼Œç¬¬äºŒéƒ¨åˆ†ç«–å¼",
            "new_string": "// ä¸æ‰“ä¹±é¡ºåºï¼Œä¿æŒé¢˜ç›®é¡ºåºï¼šå£ç®— â†’ ç«–å¼"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_z9why7yvf4k",
          "name": "Grep",
          "input": {
            "-n": true,
            "output_mode": "content",
            "path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "pattern": "ç¬¬[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+éƒ¨åˆ†"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "1755:                // æ‰“å°å£ç®—é¢˜ï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰\n1774:                // æ‰“å°ç«–å¼é¢˜ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰- åŒ…å«æ¨ªå¼å’Œç«–å¼"
        },
        {
          "id": "call_cxrkz0thxgg",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "              // æ‰“å°å£ç®—é¢˜ï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰",
            "new_string": "              // æ‰“å°å£ç®—é¢˜"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_b3yw6cuu567",
          "name": "Edit",
          "input": {
            "replace_all": false,
            "file_path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "old_string": "              // æ‰“å°ç«–å¼é¢˜ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰- åŒ…å«æ¨ªå¼å’Œç«–å¼",
            "new_string": "              // æ‰“å°ç«–å¼é¢˜"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "The file F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html has been updated successfully."
        },
        {
          "id": "call_50n2kq9o3rr",
          "name": "Grep",
          "input": {
            "-n": true,
            "output_mode": "content",
            "path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "pattern": "ç¬¬[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+éƒ¨åˆ†"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "No matches found"
        },
        {
          "id": "call_02avimbtlftu",
          "name": "Grep",
          "input": {
            "-n": true,
            "output_mode": "content",
            "path": "F:\\HFF\\Obsidian\\FFNotes\\AIåº“\\å°æ¸¸æˆ\\å£ç®—ã€ç«–å¼.html",
            "pattern": "ç¬¬ä¸€éƒ¨åˆ†|ç¬¬äºŒéƒ¨åˆ†"
          },
          "status": "completed",
          "isExpanded": false,
          "result": "No matches found"
        }
      ],
      "isExpanded": true,
      "result": "[\n  {\n    \"type\": \"text\",\n    \"text\": \"Great! All the changes have been successfully made. Let me provide a summary of what was changed:\\n\\n## Summary of Changes Made\\n\\nI have successfully modified the file `AIåº“/å°æ¸¸æˆ/å£ç®—ã€ç«–å¼.html` to remove all \\\"ç¬¬å‡ éƒ¨åˆ†\\\" (Part X) references as requested. Here are all the changes that were made:\\n\\n### 1. **Tag Labels** (Line 855 & 868)\\n- \\\"ğŸ“ ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜\\\" â†’ \\\"ğŸ“ å£ç®—é¢˜\\\"\\n- \\\"âœï¸ ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜\\\" â†’ \\\"âœï¸ ç«–å¼é¢˜\\\"\\n\\n### 2. **Answering Interface Badge** (Line 917)\\n- \\\"ç¬¬ä¸€éƒ¨åˆ† å£ç®—é¢˜\\\" â†’ \\\"å£ç®—é¢˜\\\"\\n\\n### 3. **Progress Information** (Line 918)\\n- \\\"ç¬¬ä¸€éƒ¨åˆ† - ç¬¬1/10é¢˜\\\" â†’ \\\"ç¬¬1/10é¢˜\\\"\\n\\n### 4. **Code Section Fields** (Lines 1368 & 1376)\\n- `section: 'ç¬¬ä¸€éƒ¨åˆ†'` â†’ `section: 'å£ç®—é¢˜'`\\n- `section: 'ç¬¬äºŒéƒ¨åˆ†'` â†’ `section: 'ç«–å¼é¢˜'`\\n\\n### 5. **Print Titles** (Lines 1759 & 1777)\\n- \\\"ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜\\\" â†’ \\\"å£ç®—é¢˜\\\"\\n- \\\"ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜\\\" â†’ \\\"ç«–å¼é¢˜\\\"\\n\\n### 6. **Score Statistics** (Lines 1559 & 1570)\\n- \\\"ç¬¬ä¸€éƒ¨åˆ†ï¼šå£ç®—é¢˜\\\" â†’ \\\"å£ç®—é¢˜\\\"\\n- \\\"ç¬¬äºŒéƒ¨åˆ†ï¼šç«–å¼é¢˜\\\" â†’ \\\"ç«–å¼é¢˜\\\"\\n\\n### 7. **Comments** (Line 1329)\\n- \\\"ä¿æŒç¬¬ä¸€éƒ¨åˆ†å£ç®—ï¼Œç¬¬äºŒéƒ¨åˆ†ç«–å¼\\\" â†’ \\\"ä¿æŒé¢˜ç›®é¡ºåºï¼šå£ç®— â†’ ç«–å¼\\\"\\n\\n### 8. **Additional Comments** (Lines 1755 & 1774)\\n- \\\"// æ‰“å°å£ç®—é¢˜ï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰\\\" â†’ \\\"// æ‰“å°å£ç®—é¢˜\\\"\\n- \\\"// æ‰“å°ç«–å¼é¢˜ï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰- åŒ…å«æ¨ªå¼å’Œç«–å¼\\\" â†’ \\\"// æ‰“å°ç«–å¼é¢˜\\\"\\n\\nAll references to \\\"ç¬¬ä¸€éƒ¨åˆ†\\\" (First Part) and \\\"ç¬¬äºŒéƒ¨åˆ†\\\" (Second Part) have been successfully removed from the file. The application will now display cleaner, simpler labels that just say \\\"å£ç®—é¢˜\\\" (Mental Math) and \\\"ç«–å¼é¢˜\\\" (Vertical Calculation) without the \\\"Part X\\\" designation.\"\n  },\n  {\n    \"type\": \"text\",\n    \"text\": \"agentId: a2b3347 (for resuming to continue this agent's work if needed)\"\n  }\n]"
    }
  }
}