# AI库 - 图片处理工具集

## 📁 目录结构

本目录包含多个Adobe Photoshop自动化脚本，用于老照片修复和文档处理：

```
AI库/图片处理/
├── 老照片修复.jsx                    # 老照片修复+上色脚本
├── 老照片修复脚本使用说明.md          # 详细使用文档
├── 黑白模糊照片转彩色高清教程.md      # 完整修复流程教程
├── 文档去黑影.jsx                    # 文档拍照去黑影脚本
├── 文档去黑影脚本使用说明.md          # 详细使用文档
├── 文档拍照快速指南.md                # 快速上手指南
└── README.md                         # 本文件
```

---

## 🎨 工具概览

### 1. 老照片修复.jsx

**功能**：老照片修复 + AI智能上色

**适用场景**：
- 黑白老照片上色
- 模糊照片清晰化
- 泛黄、褪色照片修复
- 噪点、划痕去除
- 照片高清化

**核心功能**：
- ✅ 自动调整色阶/对比度
- ✅ 色彩平衡修正
- ✅ 智能降噪
- ✅ USM锐化
- ✅ AI智能上色（6种方案）
- ✅ 黑白/棕褐色调转换

**文档**：
- [[老照片修复脚本使用说明]] - 完整功能说明
- [[黑白模糊照片转彩色高清教程]] - 从黑白模糊到彩色高清的完整流程

**快速使用**：
```
1. 打开老照片
2. 运行"老照片修复.jsx"
3. 选择处理强度和上色方案
4. 点击"开始修复"
5. 调整图层不透明度
6. 保存
```

---

### 2. 文档去黑影.jsx

**功能**：拍照/扫描文档自动去黑影

**适用场景**：
- 拍摄试卷、作业
- 拍摄书本、教材
- 扫描文档去噪
- 合同、证件电子化
- OCR识别前处理

**核心功能**：
- ✅ 自动白平衡（纸张变白）
- ✅ 去除边缘暗角
- ✅ 去除书本装订阴影
- ✅ 文字清晰度增强
- ✅ 智能锐化
- ✅ 去除噪点
- ✅ 黑白二值化（可选）

**文档**：
- [[文档去黑影脚本使用说明]] - 详细功能说明
- [[文档拍照快速指南]] - 快速上手

**快速使用**：
```
1. 打开文档照片
2. 运行"文档去黑影.jsx"
3. 选择文档类型（试卷/书本等）
4. 勾选处理选项
5. 点击"开始处理"
6. 保存
```

---

## 🚀 快速选择指南

### 我需要...

| 需求 | 使用脚本 | 文档类型 | 主要选项 |
|------|---------|---------|---------|
| **黑白照片变彩色** | 老照片修复.jsx | 人物肖像/风景 | ✅ 启用智能上色 |
| **模糊照片变清晰** | 老照片修复.jsx | 任意 | 强度：重度 |
| **去除老照片噪点** | 老照片修复.jsx | 任意 | ✅ 减少噪点/划痕 |
| **泛黄照片修复** | 老照片修复.jsx | 任意 | ✅ 色彩平衡修正 |
| **试卷拍照处理** | 文档去黑影.jsx | 试卷/单页文档 | ✅ 全部勾选 |
| **书本拍照处理** | 文档去黑影.jsx | 书本（有装订阴影） | ✅ 去除黑影 |
| **文档OCR识别** | 文档去黑影.jsx | 任意 | ✅ 转换为纯黑白 |
| **证件合同电子化** | 文档去黑影.jsx | 证件/合同 | ✅ 文字增强 |

---

## 📖 完整工作流程示例

### 场景1：修复黑白老照片并上色

```
第1步：高清化（可选）
  → 图像→图像大小，放大2-3倍

第2步：基础修复
  → 运行"老照片修复.jsx"
  → 处理强度：重度
  → ✅ 自动调整色阶/对比度
  → ✅ 智能锐化
  → ✅ 减少噪点/划痕

第3步：手动锐化（可选）
  → 高反差保留（半径2-3）
  → 混合模式：叠加

第4步：智能上色
  → 再运行"老照片修复.jsx"
  → 处理强度：轻度
  → ✅ 启用智能上色
  → 选择方案：人物肖像/风景照片
  → 上色强度：适中

第5步：精细调整
  → 调整各颜色层不透明度
  → 添加图层蒙版局部控制

第6步：最终锐化和保存
  → USM锐化（70% / 1.0）
  → 保存为高质量JPEG
```

**详细教程**：[[黑白模糊照片转彩色高清教程]]

---

### 场景2：拍摄试卷并电子化

```
第1步：拍摄文档
  → 窗边自然光
  → 垂直俯拍
  → 使用网格线辅助

第2步：导入Photoshop
  → 文件 → 打开
  → 选择拍摄的试卷照片

第3步：运行去黑影脚本
  → 运行"文档去黑影.jsx"
  → 文档类型：试卷/单页文档
  → 处理强度：适中
  → ✅ 全部勾选（除了黑白二值化）

第4步：检查效果
  → 查看各图层
  → 调整不透明度（如需要）

第5步：保存
  → 文件 → 存储为
  → 格式：JPEG
  → 质量：10-12（最高）
```

---

## 🎯 使用技巧汇总

### 老照片修复技巧

1. **先修复后上色**：先完成去噪、锐化，再进行上色
2. **局部上色更自然**：使用图层蒙版精确控制上色区域
3. **分层调整**：每个效果独立图层，可单独调整
4. **不透明度是关键**：大部分图层设置在20-40%效果最佳
5. **保留原始文件**：始终备份原照片

### 文档处理技巧

1. **拍摄最重要**：光线均匀、垂直俯拍是效果的关键
2. **书本要压平**：使用重物压平书页，减少阴影
3. **分步处理**：先去黑影，再增强文字
4. **检查100%比例**：查看文字是否过度锐化
5. **OCR前二值化**：需要识别时勾选"纯黑白"

---

## 📊 脚本对比

| 特性 | 老照片修复.jsx | 文档去黑影.jsx |
|------|---------------|---------------|
| **主要用途** | 老照片修复+上色 | 文档拍照去黑影 |
| **输入类型** | 老/旧照片 | 拍摄/扫描文档 |
| **上色功能** | ✅ 6种方案 | ❌ 无 |
| **去黑影** | ✅ 轻度 | ✅ 专门优化 |
| **文字增强** | ✅ 通用 | ✅ 专门优化 |
| **降噪** | ✅ 智能降噪 | ✅ 去斑+去噪 |
| **锐化** | ✅ USM锐化 | ✅ 智能锐化 |
| **白平衡** | ✅ 色彩平衡 | ✅ 纸张变白 |
| **二值化** | ❌ | ✅ 可选 |

---

## 🔧 常见问题

### Q1: 脚本无法运行？
**A**: 检查Photoshop版本（需要CS6或更高），确保已打开文档。

### Q2: 效果不理想？
**A**:
- 调整各图层的不透明度
- 降低处理强度重新运行
- 手动微调特定效果

### Q3: 照片处理后文件变大了？
**A**: 正常现象，因为创建了多个图层。合并图层后可减小文件大小。

### Q4: 可以批量处理吗？
**A**: 可以使用Photoshop的"批处理"功能配合动作。

### Q5: 两个脚本可以组合使用吗？
**A**: 可以！例如：
- 先用"文档去黑影.jsx"处理拍摄的旧照片
- 再用"老照片修复.jsx"进行上色

---

## 💡 高级用法

### 1. 创建动作（Action）

```
1. 窗口 → 动作
2. 创建新动作
3. 运行脚本
4. 停止录制
5. 以后一键执行
```

### 2. 批处理多张照片

```
1. 创建包含脚本的动作
2. 文件 → 自动 → 批处理
3. 选择源文件夹和目标文件夹
4. 选择动作
5. 运行
```

### 3. 脚本组合使用

```
完整老照片修复流程：
1. 文档去黑影.jsx（如果照片是拍摄的）
2. 老照片修复.jsx（基础修复）
3. 老照片修复.jsx（上色）
4. 手动精修
```

---

## 📚 完整文档索引

### 老照片修复系列
- [[老照片修复脚本使用说明]] - 完整功能说明和参数详解
- [[黑白模糊照片转彩色高清教程]] - 从黑白模糊到彩色高清的完整教程

### 文档处理系列
- [[文档去黑影脚本使用说明]] - 完整功能说明和参数详解
- [[文档拍照快速指南]] - 快速上手指南和常见问题

---

## 🎓 学习路径

### 初学者
1. 阅读 [[文档拍照快速指南]]
2. 尝试处理一张文档照片
3. 阅读 [[老照片修复脚本使用说明]]
4. 尝试修复一张老照片

### 进阶用户
1. 阅读 [[黑白模糊照片转彩色高清教程]]
2. 完成完整修复流程
3. 学习图层调整和蒙版技巧
4. 尝试批处理

### 专业用户
1. 组合使用多个脚本
2. 创建自定义动作
3. 手动精修和艺术创作
4. 开发自己的工作流

---

## 📞 获取帮助

### 问题排查

| 问题 | 检查项 |
|------|--------|
| 脚本无法运行 | Photoshop版本、文档是否打开 |
| 效果不明显 | 强度设置、图层不透明度 |
| 过度处理 | 降低不透明度、重新运行 |
| 程序崩溃 | 文件大小、系统内存 |
| 保存问题 | 文件格式、磁盘空间 |

### 最佳实践

1. **始终备份原始文件**
2. **先试小强度，再逐步加强**
3. **查看100%比例检查细节**
4. **保存PSD文件以保留编辑能力**
5. **根据具体需求调整参数**

---

## 🔄 更新日志

### v2.0 - 2025年
- ✨ 新增老照片修复脚本的AI智能上色功能
- ✨ 新增文档去黑影脚本
- 📚 完善所有文档和使用说明
- 🎨 优化算法和参数

### v1.0 - 2025年
- 🎉 基础老照片修复功能
- 📚 初始文档

---

## 📄 许可和使用

- 所有脚本可自由使用和修改
- 适用于个人和教育用途
- 商业使用请遵守Photoshop许可协议

---

**祝你使用愉快！🎨✨**

---

*最后更新：2025年2月*
*适用版本：Photoshop CS6/CC/2018-2025*
*维护：AI库*
