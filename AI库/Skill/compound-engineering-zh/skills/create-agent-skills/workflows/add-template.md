# Workflow: 为技能添加模板

<required_reading>
**立即阅读以下参考文件：**
1. references/using-templates.md
</required_reading>

<process>
## 步骤 1: 识别技能

询问（如果尚未提供）：
- 哪个技能需要模板？
- 此模板构建什么输出？

## 步骤 2: 分析模板需求

确认这是一个好的模板候选：
- [ ] 输出在多次使用中具有一致的结构
- [ ] 结构比创意生成更重要
- [ ] 填充占位符比空白页生成更可靠

如果不适合，建议替代方案（工作流指导、参考示例）。

## 步骤 3: 创建模板目录

```bash
mkdir -p ~/.claude/skills/{skill-name}/templates
```

## 步骤 4: 设计模板结构

收集需求：
- 输出需要哪些部分？
- 什么信息在使用间变化？（→ 占位符）
- 什么保持不变？（→ 静态结构）

## 步骤 5: 编写模板文件

创建 `templates/{template-name}.md`，包含：
- 清晰的章节标记
- 用于可变内容的 `{{PLACEHOLDER}}` 语法
- 有帮助的简短内联指导
- 最少的示例内容

## 步骤 6: 更新工作流以使用模板

找到生成此输出的工作流。添加：
```xml
<process>
...
N. 读取 `templates/{template-name}.md`
N+1. 复制模板结构
N+2. 根据收集的上下文填充每个占位符
...
</process>
```

## 步骤 7: 测试

调用技能工作流并验证：
- 模板在正确的步骤被读取
- 所有占位符得到适当填充
- 输出结构与模板匹配
- 无未填充的占位符
</process>

<success_criteria>
模板完成时：
- [ ] templates/ 目录存在
- [ ] 模板文件具有清晰的结构和占位符
- [ ] 至少有一个工作流引用该模板
- [ ] 工作流说明解释了何时/如何使用模板
- [ ] 已通过实际调用测试
</success_criteria>
