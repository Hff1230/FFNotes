# Workflow: 获取技能设计指导

<required_reading>
**立即阅读以下参考文件：**
1. references/core-principles.md
2. references/recommended-structure.md
</required_reading>

<process>
## 步骤 1: 理解问题空间

询问用户：
- 您试图支持什么任务或领域？
- 这是您反复做的事情吗？
- 是什么让它足够复杂以至于需要技能？

## 步骤 2: 确定技能是否合适

**创建技能时：**
- 任务在多个会话中重复
- 领域知识不频繁变化
- 足够复杂以从结构中受益
- 如果自动化可以节省大量时间

**不要创建技能时：**
- 一次性任务（直接执行）
- 不断变化（会很快过时）
- 太简单（不值得开销）
- 更适合作为斜杠命令（用户触发，无需上下文）

与用户分享此评估。

## 步骤 3: 映射工作流

询问："用这个技能，人们可能想做的不同事情是什么？"

常见模式：
- 创建 / 读取 / 更新 / 删除
- 构建 / 调试 / 发布
- 设置 / 使用 / 故障排除
- 导入 / 处理 / 导出

每个不同的工作流 = 潜在的工作流文件。

## 步骤 4: 识别领域知识

询问："无论哪个工作流，需要什么知识？"

这将成为参考：
- API 模式
- 最佳实践
- 常见示例
- 配置细节

## 步骤 5: 起草结构

根据答案，推荐结构：

**如果有 1 个工作流，简单知识：**
```
skill-name/
└── SKILL.md（所有内容在一个文件中）
```

**如果有 2+ 个工作流，共享知识：**
```
skill-name/
├── SKILL.md（路由器）
├── workflows/
│   ├── workflow-a.md
│   └── workflow-b.md
└── references/
    └── shared-knowledge.md
```

## 步骤 6: 识别核心原则

询问："哪些规则应始终适用，无论哪个工作流？"

这些将成为 SKILL.md 中的 `<essential_principles>`。

示例：
- "始终在报告成功之前验证"
- "从不将凭据存储在代码中"
- "在进行破坏性更改之前询问"

## 步骤 7: 展示推荐

总结：
- 推荐结构（简单 vs 路由器模式）
- 工作流列表
- 参考列表
- 核心原则

询问："此结构合理吗？准备构建它吗？"

如果是 → 提供切换到"创建新技能"工作流
如果否 → 澄清并迭代
</process>

<decision_framework>
## 快速决策框架

| 情况 | 推荐 |
|-----------|----------------|
| 单个任务，经常重复 | 简单技能 |
| 多个相关任务 | 路由器 + 工作流 |
| 复杂领域，许多模式 | 路由器 + 工作流 + 参考 |
| 用户触发，新鲜上下文 | 斜杠命令，而非技能 |
| 一次性任务 | 不需要技能 |
</decision_framework>

<success_criteria>
指导完成时：
- [ ] 用户理解他们是否需要技能
- [ ] 结构已推荐并解释
- [ ] 工作流已识别
- [ ] 参考已识别
- [ ] 核心原则已识别
- [ ] 用户准备构建（或决定不构建）
</success_criteria>
